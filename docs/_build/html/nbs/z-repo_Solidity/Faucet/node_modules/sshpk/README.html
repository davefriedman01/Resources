
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sshpk &#8212; Mathematics</title>
    
  <link href="../../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../index.html">
      
      <img src="../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Mathematics</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../README.html">
   Mathematics
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Sets.html">
   Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../NumberTheory.html">
   Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../AlgorithmicNumberTheory.html">
   Algorithmic Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../ModularArithmetic.html">
   Modular Arithmetic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Polynomials.html">
   Polynomials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Structures.html">
   Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Groups.html">
   Groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Fields.html">
   Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../mathematical_foundations.html">
   Imports
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modeling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../RandomWalks.html">
   Random Walks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DigitalSignalProcessing.html">
   Digital Signal Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DifferentialEquations.html">
   Differential Equations
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Blockchain
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../PythonBlockchain.html">
   Python Blockchain
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../_sources/nbs/z-repo_Solidity/Faucet/node_modules/sshpk/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/davefriedman01/Resources"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/davefriedman01/Resources/issues/new?title=Issue%20on%20page%20%2Fnbs/z-repo_Solidity/Faucet/node_modules/sshpk/README.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install">
   Install
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples">
   Examples
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#public-keys">
   Public keys
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parsekey-data-format-auto-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       parseKey(data[,
      </span>
      <span class="pre">
       format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'auto'[,
      </span>
      <span class="pre">
       options]])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-iskey-obj">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key.isKey(obj)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-type">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#type
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-size">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#size
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-comment">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#comment
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-curve">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#curve
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-tobuffer-format-ssh">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#toBuffer([format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'ssh'])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-tostring-format-ssh">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#toString([format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'ssh])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-fingerprint-algorithm-sha256-hashtype-ssh">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#fingerprint([algorithm
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'sha256'[,
      </span>
      <span class="pre">
       hashType
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'ssh']])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-createverify-hashalgorithm">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#createVerify([hashAlgorithm])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-creatediffiehellman">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#createDiffieHellman()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-createdh">
     <code class="docutils literal notranslate">
      <span class="pre">
       Key#createDH()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#private-keys">
   Private keys
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parseprivatekey-data-format-auto-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       parsePrivateKey(data[,
      </span>
      <span class="pre">
       format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'auto'[,
      </span>
      <span class="pre">
       options]])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#generateprivatekey-type-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       generatePrivateKey(type[,
      </span>
      <span class="pre">
       options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-isprivatekey-obj">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey.isPrivateKey(obj)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-type">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#type
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-size">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#size
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-curve">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#curve
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-tobuffer-format-pkcs1">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#toBuffer([format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'pkcs1'])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-tostring-format-pkcs1">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#toString([format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'pkcs1'])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-topublic">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#toPublic()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-fingerprint-algorithm-sha256">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#fingerprint([algorithm
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'sha256'])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-createverify-hashalgorithm">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#createVerify([hashAlgorithm])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-createsign-hashalgorithm">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#createSign([hashAlgorithm])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#privatekey-derive-newtype">
     <code class="docutils literal notranslate">
      <span class="pre">
       PrivateKey#derive(newType)
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fingerprints">
   Fingerprints
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parsefingerprint-fingerprint-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       parseFingerprint(fingerprint[,
      </span>
      <span class="pre">
       options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fingerprint-isfingerprint-obj">
     <code class="docutils literal notranslate">
      <span class="pre">
       Fingerprint.isFingerprint(obj)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fingerprint-tostring-format">
     <code class="docutils literal notranslate">
      <span class="pre">
       Fingerprint#toString([format])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fingerprint-matches-keyorcertificate">
     <code class="docutils literal notranslate">
      <span class="pre">
       Fingerprint#matches(keyOrCertificate)
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#signatures">
   Signatures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parsesignature-signature-algorithm-format">
     <code class="docutils literal notranslate">
      <span class="pre">
       parseSignature(signature,
      </span>
      <span class="pre">
       algorithm,
      </span>
      <span class="pre">
       format)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#signature-issignature-obj">
     <code class="docutils literal notranslate">
      <span class="pre">
       Signature.isSignature(obj)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#signature-tobuffer-format-asn1">
     <code class="docutils literal notranslate">
      <span class="pre">
       Signature#toBuffer([format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'asn1'])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#signature-tostring-format-asn1">
     <code class="docutils literal notranslate">
      <span class="pre">
       Signature#toString([format
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       'asn1'])
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#certificates">
   Certificates
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parsecertificate-data-format">
     <code class="docutils literal notranslate">
      <span class="pre">
       parseCertificate(data,
      </span>
      <span class="pre">
       format)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#createselfsignedcertificate-subject-privatekey-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       createSelfSignedCertificate(subject,
      </span>
      <span class="pre">
       privateKey[,
      </span>
      <span class="pre">
       options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#createcertificate-subject-key-issuer-issuerkey-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       createCertificate(subject,
      </span>
      <span class="pre">
       key,
      </span>
      <span class="pre">
       issuer,
      </span>
      <span class="pre">
       issuerKey[,
      </span>
      <span class="pre">
       options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-subjects">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#subjects
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-issuer">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#issuer
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-subjectkey">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#subjectKey
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-issuerkey">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#issuerKey
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-serial">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#serial
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-purposes">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#purposes
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-getextension-nameoroid">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#getExtension(nameOrOid)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-getextensions">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#getExtensions()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-isexpired-when">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#isExpired([when])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-issignedbykey-key">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#isSignedByKey(key)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-issignedby-certificate">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#isSignedBy(certificate)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-fingerprint-hashalgo">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#fingerprint([hashAlgo])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-tobuffer-format">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#toBuffer([format])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificate-tostring-format">
     <code class="docutils literal notranslate">
      <span class="pre">
       Certificate#toString([format])
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#certificate-identities">
   Certificate identities
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identityforhost-hostname">
     <code class="docutils literal notranslate">
      <span class="pre">
       identityForHost(hostname)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identityforuser-uid">
     <code class="docutils literal notranslate">
      <span class="pre">
       identityForUser(uid)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identityforemail-email">
     <code class="docutils literal notranslate">
      <span class="pre">
       identityForEmail(email)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identityfromdn-dn">
     <code class="docutils literal notranslate">
      <span class="pre">
       identityFromDN(dn)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identityfromarray-arr">
     <code class="docutils literal notranslate">
      <span class="pre">
       identityFromArray(arr)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-tostring">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#toString()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-type">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#type
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-hostname">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#hostname
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-uid">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#uid
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-email">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#email
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-cn">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#cn
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-get-name-asarray">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#get(name[,
      </span>
      <span class="pre">
       asArray])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#identity-toarray">
     <code class="docutils literal notranslate">
      <span class="pre">
       Identity#toArray()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#errors">
   Errors
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#invalidalgorithmerror">
     <code class="docutils literal notranslate">
      <span class="pre">
       InvalidAlgorithmError
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fingerprintformaterror">
     <code class="docutils literal notranslate">
      <span class="pre">
       FingerprintFormatError
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keyparseerror">
     <code class="docutils literal notranslate">
      <span class="pre">
       KeyParseError
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keyencryptederror">
     <code class="docutils literal notranslate">
      <span class="pre">
       KeyEncryptedError
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#certificateparseerror">
     <code class="docutils literal notranslate">
      <span class="pre">
       CertificateParseError
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#friends-of-sshpk">
   Friends of sshpk
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="sshpk">
<h1>sshpk<a class="headerlink" href="#sshpk" title="Permalink to this headline">¶</a></h1>
<p>Parse, convert, fingerprint and use SSH keys (both public and private) in pure
node – no <code class="docutils literal notranslate"><span class="pre">ssh-keygen</span></code> or other external dependencies.</p>
<p>Supports RSA, DSA, ECDSA (nistp-*) and ED25519 key types, in PEM (PKCS#1,
PKCS#8) and OpenSSH formats.</p>
<p>This library has been extracted from
<a class="reference external" href="https://github.com/joyent/node-http-signature"><code class="docutils literal notranslate"><span class="pre">node-http-signature</span></code></a>
(work by <a class="reference external" href="https://github.com/mcavage">Mark Cavage</a> and
<a class="reference external" href="https://github.com/bahamas10">Dave Eddy</a>) and
<a class="reference external" href="https://github.com/bahamas10/node-ssh-fingerprint"><code class="docutils literal notranslate"><span class="pre">node-ssh-fingerprint</span></code></a>
(work by Dave Eddy), with additions (including ECDSA support) by
<a class="reference external" href="https://github.com/arekinath">Alex Wilson</a>.</p>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="n">sshpk</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sshpk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;sshpk&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="cm">/* Read in an OpenSSH-format public key */</span>
<span class="kd">var</span> <span class="nx">keyPub</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;id_rsa.pub&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">sshpk</span><span class="p">.</span><span class="nx">parseKey</span><span class="p">(</span><span class="nx">keyPub</span><span class="p">,</span> <span class="s1">&#39;ssh&#39;</span><span class="p">);</span>

<span class="cm">/* Get metadata about the key */</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;type =&gt; %s&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;size =&gt; %d bits&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="p">.</span><span class="nx">size</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;comment =&gt; %s&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="p">.</span><span class="nx">comment</span><span class="p">);</span>

<span class="cm">/* Compute key fingerprints, in new OpenSSH (&gt;6.7) format, and old MD5 */</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;fingerprint =&gt; %s&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="p">.</span><span class="nx">fingerprint</span><span class="p">().</span><span class="nx">toString</span><span class="p">());</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;old-style fingerprint =&gt; %s&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="p">.</span><span class="nx">fingerprint</span><span class="p">(</span><span class="s1">&#39;md5&#39;</span><span class="p">).</span><span class="nx">toString</span><span class="p">());</span>
</pre></div>
</div>
<p>Example output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="o">=&gt;</span> <span class="n">rsa</span>
<span class="n">size</span> <span class="o">=&gt;</span> <span class="mi">2048</span> <span class="n">bits</span>
<span class="n">comment</span> <span class="o">=&gt;</span> <span class="n">foo</span><span class="nd">@foo</span><span class="o">.</span><span class="n">com</span>
<span class="n">fingerprint</span> <span class="o">=&gt;</span> <span class="n">SHA256</span><span class="p">:</span><span class="n">PYC9kPVC6J873CSIbfp0LwYeczP</span><span class="o">/</span><span class="n">W4ffObNCuDJ1u5w</span>
<span class="n">old</span><span class="o">-</span><span class="n">style</span> <span class="n">fingerprint</span> <span class="o">=&gt;</span> <span class="n">a0</span><span class="p">:</span><span class="n">c8</span><span class="p">:</span><span class="n">ad</span><span class="p">:</span><span class="mi">6</span><span class="n">c</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">9</span><span class="n">a</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="n">fa</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="n">cc</span><span class="p">:</span><span class="n">a9</span><span class="p">:</span><span class="mi">8</span><span class="n">c</span><span class="p">:</span><span class="mi">0</span><span class="n">a</span><span class="p">:</span><span class="mi">0</span><span class="n">d</span><span class="p">:</span><span class="mi">6</span><span class="n">e</span><span class="p">:</span><span class="n">bd</span>
</pre></div>
</div>
<p>More examples: converting between formats:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Read in a PEM public key */</span>
<span class="kd">var</span> <span class="nx">keyPem</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;id_rsa.pem&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">sshpk</span><span class="p">.</span><span class="nx">parseKey</span><span class="p">(</span><span class="nx">keyPem</span><span class="p">,</span> <span class="s1">&#39;pem&#39;</span><span class="p">);</span>

<span class="cm">/* Convert to PEM PKCS#8 public key format */</span>
<span class="kd">var</span> <span class="nx">pemBuf</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">toBuffer</span><span class="p">(</span><span class="s1">&#39;pkcs8&#39;</span><span class="p">);</span>

<span class="cm">/* Convert to SSH public key format (and return as a string) */</span>
<span class="kd">var</span> <span class="nx">sshKey</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;ssh&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Signing and verifying:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Read in an OpenSSH/PEM *private* key */</span>
<span class="kd">var</span> <span class="nx">keyPriv</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;id_ecdsa&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">sshpk</span><span class="p">.</span><span class="nx">parsePrivateKey</span><span class="p">(</span><span class="nx">keyPriv</span><span class="p">,</span> <span class="s1">&#39;pem&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="s1">&#39;some data&#39;</span><span class="p">;</span>

<span class="cm">/* Sign some data with the key */</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">createSign</span><span class="p">(</span><span class="s1">&#39;sha1&#39;</span><span class="p">);</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">sign</span><span class="p">();</span>

<span class="cm">/* Now load the public key (could also use just key.toPublic()) */</span>
<span class="kd">var</span> <span class="nx">keyPub</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;id_ecdsa.pub&#39;</span><span class="p">);</span>
<span class="nx">key</span> <span class="o">=</span> <span class="nx">sshpk</span><span class="p">.</span><span class="nx">parseKey</span><span class="p">(</span><span class="nx">keyPub</span><span class="p">,</span> <span class="s1">&#39;ssh&#39;</span><span class="p">);</span>

<span class="cm">/* Make a crypto.Verifier with this key */</span>
<span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">createVerify</span><span class="p">(</span><span class="s1">&#39;sha1&#39;</span><span class="p">);</span>
<span class="nx">v</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">valid</span> <span class="o">=</span> <span class="nx">v</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">signature</span><span class="p">);</span>
<span class="cm">/* =&gt; true! */</span>
</pre></div>
</div>
<p>Matching fingerprints with keys:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fp</span> <span class="o">=</span> <span class="nx">sshpk</span><span class="p">.</span><span class="nx">parseFingerprint</span><span class="p">(</span><span class="s1">&#39;SHA256:PYC9kPVC6J873CSIbfp0LwYeczP/W4ffObNCuDJ1u5w&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">keys</span> <span class="o">=</span> <span class="p">[</span><span class="nx">sshpk</span><span class="p">.</span><span class="nx">parseKey</span><span class="p">(...),</span> <span class="nx">sshpk</span><span class="p">.</span><span class="nx">parseKey</span><span class="p">(...),</span> <span class="p">...];</span>

<span class="nx">keys</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">fp</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;found it!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="public-keys">
<h2>Public keys<a class="headerlink" href="#public-keys" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parsekey-data-format-auto-options">
<h3><code class="docutils literal notranslate"><span class="pre">parseKey(data[,</span> <span class="pre">format</span> <span class="pre">=</span> <span class="pre">'auto'[,</span> <span class="pre">options]])</span></code><a class="headerlink" href="#parsekey-data-format-auto-options" title="Permalink to this headline">¶</a></h3>
<p>Parses a key from a given data format and returns a new <code class="docutils literal notranslate"><span class="pre">Key</span></code> object.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – Either a Buffer or String, containing the key</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – String name of format to use, valid options are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">auto</span></code>: choose automatically from all below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pem</span></code>: supports both PKCS#1 and PKCS#8</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssh</span></code>: standard OpenSSH format,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkcs1</span></code>, <code class="docutils literal notranslate"><span class="pre">pkcs8</span></code>: variants of <code class="docutils literal notranslate"><span class="pre">pem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rfc4253</span></code>: raw OpenSSH wire format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openssh</span></code>: new post-OpenSSH 6.5 internal format, produced by
<code class="docutils literal notranslate"><span class="pre">ssh-keygen</span> <span class="pre">-o</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dnssec</span></code>: <code class="docutils literal notranslate"><span class="pre">.key</span></code> file format output by <code class="docutils literal notranslate"><span class="pre">dnssec-keygen</span></code> etc</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">putty</span></code>: the PuTTY <code class="docutils literal notranslate"><span class="pre">.ppk</span></code> file format (supports truncated variant without
all the lines from <code class="docutils literal notranslate"><span class="pre">Private-Lines:</span></code> onwards)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> – Optional Object, extra options, with keys:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> – Optional String, name for the key being parsed
(eg. the filename that was opened). Used to generate
Error messages</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">passphrase</span></code> – Optional String, encryption passphrase used to decrypt an
encrypted PEM file</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="key-iskey-obj">
<h3><code class="docutils literal notranslate"><span class="pre">Key.isKey(obj)</span></code><a class="headerlink" href="#key-iskey-obj" title="Permalink to this headline">¶</a></h3>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given object is a valid <code class="docutils literal notranslate"><span class="pre">Key</span></code> object created by a version
of <code class="docutils literal notranslate"><span class="pre">sshpk</span></code> compatible with this one.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – Object to identify</p></li>
</ul>
</div>
<div class="section" id="key-type">
<h3><code class="docutils literal notranslate"><span class="pre">Key#type</span></code><a class="headerlink" href="#key-type" title="Permalink to this headline">¶</a></h3>
<p>String, the type of key. Valid options are <code class="docutils literal notranslate"><span class="pre">rsa</span></code>, <code class="docutils literal notranslate"><span class="pre">dsa</span></code>, <code class="docutils literal notranslate"><span class="pre">ecdsa</span></code>.</p>
</div>
<div class="section" id="key-size">
<h3><code class="docutils literal notranslate"><span class="pre">Key#size</span></code><a class="headerlink" href="#key-size" title="Permalink to this headline">¶</a></h3>
<p>Integer, “size” of the key in bits. For RSA/DSA this is the size of the modulus;
for ECDSA this is the bit size of the curve in use.</p>
</div>
<div class="section" id="key-comment">
<h3><code class="docutils literal notranslate"><span class="pre">Key#comment</span></code><a class="headerlink" href="#key-comment" title="Permalink to this headline">¶</a></h3>
<p>Optional string, a key comment used by some formats (eg the <code class="docutils literal notranslate"><span class="pre">ssh</span></code> format).</p>
</div>
<div class="section" id="key-curve">
<h3><code class="docutils literal notranslate"><span class="pre">Key#curve</span></code><a class="headerlink" href="#key-curve" title="Permalink to this headline">¶</a></h3>
<p>Only present if <code class="docutils literal notranslate"><span class="pre">this.type</span> <span class="pre">===</span> <span class="pre">'ecdsa'</span></code>, string containing the name of the
named curve used with this key. Possible values include <code class="docutils literal notranslate"><span class="pre">nistp256</span></code>, <code class="docutils literal notranslate"><span class="pre">nistp384</span></code>
and <code class="docutils literal notranslate"><span class="pre">nistp521</span></code>.</p>
</div>
<div class="section" id="key-tobuffer-format-ssh">
<h3><code class="docutils literal notranslate"><span class="pre">Key#toBuffer([format</span> <span class="pre">=</span> <span class="pre">'ssh'])</span></code><a class="headerlink" href="#key-tobuffer-format-ssh" title="Permalink to this headline">¶</a></h3>
<p>Convert the key into a given data format and return the serialized key as
a Buffer.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – String name of format to use, for valid options see <code class="docutils literal notranslate"><span class="pre">parseKey()</span></code></p></li>
</ul>
</div>
<div class="section" id="key-tostring-format-ssh">
<h3><code class="docutils literal notranslate"><span class="pre">Key#toString([format</span> <span class="pre">=</span> <span class="pre">'ssh])</span></code><a class="headerlink" href="#key-tostring-format-ssh" title="Permalink to this headline">¶</a></h3>
<p>Same as <code class="docutils literal notranslate"><span class="pre">this.toBuffer(format).toString()</span></code>.</p>
</div>
<div class="section" id="key-fingerprint-algorithm-sha256-hashtype-ssh">
<h3><code class="docutils literal notranslate"><span class="pre">Key#fingerprint([algorithm</span> <span class="pre">=</span> <span class="pre">'sha256'[,</span> <span class="pre">hashType</span> <span class="pre">=</span> <span class="pre">'ssh']])</span></code><a class="headerlink" href="#key-fingerprint-algorithm-sha256-hashtype-ssh" title="Permalink to this headline">¶</a></h3>
<p>Creates a new <code class="docutils literal notranslate"><span class="pre">Fingerprint</span></code> object representing this Key’s fingerprint.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> – String name of hash algorithm to use, valid options are <code class="docutils literal notranslate"><span class="pre">md5</span></code>,
<code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>, <code class="docutils literal notranslate"><span class="pre">sha384</span></code>, <code class="docutils literal notranslate"><span class="pre">sha512</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hashType</span></code> – String name of fingerprint hash type to use, valid options are
<code class="docutils literal notranslate"><span class="pre">ssh</span></code> (the type of fingerprint used by OpenSSH, e.g. in
<code class="docutils literal notranslate"><span class="pre">ssh-keygen</span></code>), <code class="docutils literal notranslate"><span class="pre">spki</span></code> (used by HPKP, some OpenSSL applications)</p></li>
</ul>
</div>
<div class="section" id="key-createverify-hashalgorithm">
<h3><code class="docutils literal notranslate"><span class="pre">Key#createVerify([hashAlgorithm])</span></code><a class="headerlink" href="#key-createverify-hashalgorithm" title="Permalink to this headline">¶</a></h3>
<p>Creates a <code class="docutils literal notranslate"><span class="pre">crypto.Verifier</span></code> specialized to use this Key (and the correct public
key algorithm to match it). The returned Verifier has the same API as a regular
one, except that the <code class="docutils literal notranslate"><span class="pre">verify()</span></code> function takes only the target signature as an
argument.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hashAlgorithm</span></code> – optional String name of hash algorithm to use, any
supported by OpenSSL are valid, usually including
<code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">v.verify(signature[,</span> <span class="pre">format])</span></code> Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">signature</span></code> – either a Signature object, or a Buffer or String</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – optional String, name of format to interpret given String with.
Not valid if <code class="docutils literal notranslate"><span class="pre">signature</span></code> is a Signature or Buffer.</p></li>
</ul>
</div>
<div class="section" id="key-creatediffiehellman">
<h3><code class="docutils literal notranslate"><span class="pre">Key#createDiffieHellman()</span></code><a class="headerlink" href="#key-creatediffiehellman" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="key-createdh">
<h3><code class="docutils literal notranslate"><span class="pre">Key#createDH()</span></code><a class="headerlink" href="#key-createdh" title="Permalink to this headline">¶</a></h3>
<p>Creates a Diffie-Hellman key exchange object initialized with this key and all
necessary parameters. This has the same API as a <code class="docutils literal notranslate"><span class="pre">crypto.DiffieHellman</span></code>
instance, except that functions take <code class="docutils literal notranslate"><span class="pre">Key</span></code> and <code class="docutils literal notranslate"><span class="pre">PrivateKey</span></code> objects as
arguments, and return them where indicated for.</p>
<p>This is only valid for keys belonging to a cryptosystem that supports DHE
or a close analogue (i.e. <code class="docutils literal notranslate"><span class="pre">dsa</span></code>, <code class="docutils literal notranslate"><span class="pre">ecdsa</span></code> and <code class="docutils literal notranslate"><span class="pre">curve25519</span></code> keys). An attempt
to call this function on other keys will yield an <code class="docutils literal notranslate"><span class="pre">Error</span></code>.</p>
</div>
</div>
<div class="section" id="private-keys">
<h2>Private keys<a class="headerlink" href="#private-keys" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parseprivatekey-data-format-auto-options">
<h3><code class="docutils literal notranslate"><span class="pre">parsePrivateKey(data[,</span> <span class="pre">format</span> <span class="pre">=</span> <span class="pre">'auto'[,</span> <span class="pre">options]])</span></code><a class="headerlink" href="#parseprivatekey-data-format-auto-options" title="Permalink to this headline">¶</a></h3>
<p>Parses a private key from a given data format and returns a new
<code class="docutils literal notranslate"><span class="pre">PrivateKey</span></code> object.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – Either a Buffer or String, containing the key</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – String name of format to use, valid options are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">auto</span></code>: choose automatically from all below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pem</span></code>: supports both PKCS#1 and PKCS#8</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssh</span></code>, <code class="docutils literal notranslate"><span class="pre">openssh</span></code>: new post-OpenSSH 6.5 internal format, produced by
<code class="docutils literal notranslate"><span class="pre">ssh-keygen</span> <span class="pre">-o</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkcs1</span></code>, <code class="docutils literal notranslate"><span class="pre">pkcs8</span></code>: variants of <code class="docutils literal notranslate"><span class="pre">pem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rfc4253</span></code>: raw OpenSSH wire format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dnssec</span></code>: <code class="docutils literal notranslate"><span class="pre">.private</span></code> format output by <code class="docutils literal notranslate"><span class="pre">dnssec-keygen</span></code> etc.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> – Optional Object, extra options, with keys:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> – Optional String, name for the key being parsed
(eg. the filename that was opened). Used to generate
Error messages</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">passphrase</span></code> – Optional String, encryption passphrase used to decrypt an
encrypted PEM file</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="generateprivatekey-type-options">
<h3><code class="docutils literal notranslate"><span class="pre">generatePrivateKey(type[,</span> <span class="pre">options])</span></code><a class="headerlink" href="#generateprivatekey-type-options" title="Permalink to this headline">¶</a></h3>
<p>Generates a new private key of a certain key type, from random data.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – String, type of key to generate. Currently supported are <code class="docutils literal notranslate"><span class="pre">'ecdsa'</span></code>
and <code class="docutils literal notranslate"><span class="pre">'ed25519'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> – optional Object, with keys:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">curve</span></code> – optional String, for <code class="docutils literal notranslate"><span class="pre">'ecdsa'</span></code> keys, specifies the curve to use.
If ECDSA is specified and this option is not given, defaults to
using <code class="docutils literal notranslate"><span class="pre">'nistp256'</span></code>.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="privatekey-isprivatekey-obj">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey.isPrivateKey(obj)</span></code><a class="headerlink" href="#privatekey-isprivatekey-obj" title="Permalink to this headline">¶</a></h3>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given object is a valid <code class="docutils literal notranslate"><span class="pre">PrivateKey</span></code> object created by a
version of <code class="docutils literal notranslate"><span class="pre">sshpk</span></code> compatible with this one.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – Object to identify</p></li>
</ul>
</div>
<div class="section" id="privatekey-type">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#type</span></code><a class="headerlink" href="#privatekey-type" title="Permalink to this headline">¶</a></h3>
<p>String, the type of key. Valid options are <code class="docutils literal notranslate"><span class="pre">rsa</span></code>, <code class="docutils literal notranslate"><span class="pre">dsa</span></code>, <code class="docutils literal notranslate"><span class="pre">ecdsa</span></code>.</p>
</div>
<div class="section" id="privatekey-size">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#size</span></code><a class="headerlink" href="#privatekey-size" title="Permalink to this headline">¶</a></h3>
<p>Integer, “size” of the key in bits. For RSA/DSA this is the size of the modulus;
for ECDSA this is the bit size of the curve in use.</p>
</div>
<div class="section" id="privatekey-curve">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#curve</span></code><a class="headerlink" href="#privatekey-curve" title="Permalink to this headline">¶</a></h3>
<p>Only present if <code class="docutils literal notranslate"><span class="pre">this.type</span> <span class="pre">===</span> <span class="pre">'ecdsa'</span></code>, string containing the name of the
named curve used with this key. Possible values include <code class="docutils literal notranslate"><span class="pre">nistp256</span></code>, <code class="docutils literal notranslate"><span class="pre">nistp384</span></code>
and <code class="docutils literal notranslate"><span class="pre">nistp521</span></code>.</p>
</div>
<div class="section" id="privatekey-tobuffer-format-pkcs1">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#toBuffer([format</span> <span class="pre">=</span> <span class="pre">'pkcs1'])</span></code><a class="headerlink" href="#privatekey-tobuffer-format-pkcs1" title="Permalink to this headline">¶</a></h3>
<p>Convert the key into a given data format and return the serialized key as
a Buffer.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – String name of format to use, valid options are listed under
<code class="docutils literal notranslate"><span class="pre">parsePrivateKey</span></code>. Note that ED25519 keys default to <code class="docutils literal notranslate"><span class="pre">openssh</span></code>
format instead (as they have no <code class="docutils literal notranslate"><span class="pre">pkcs1</span></code> representation).</p></li>
</ul>
</div>
<div class="section" id="privatekey-tostring-format-pkcs1">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#toString([format</span> <span class="pre">=</span> <span class="pre">'pkcs1'])</span></code><a class="headerlink" href="#privatekey-tostring-format-pkcs1" title="Permalink to this headline">¶</a></h3>
<p>Same as <code class="docutils literal notranslate"><span class="pre">this.toBuffer(format).toString()</span></code>.</p>
</div>
<div class="section" id="privatekey-topublic">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#toPublic()</span></code><a class="headerlink" href="#privatekey-topublic" title="Permalink to this headline">¶</a></h3>
<p>Extract just the public part of this private key, and return it as a <code class="docutils literal notranslate"><span class="pre">Key</span></code>
object.</p>
</div>
<div class="section" id="privatekey-fingerprint-algorithm-sha256">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#fingerprint([algorithm</span> <span class="pre">=</span> <span class="pre">'sha256'])</span></code><a class="headerlink" href="#privatekey-fingerprint-algorithm-sha256" title="Permalink to this headline">¶</a></h3>
<p>Same as <code class="docutils literal notranslate"><span class="pre">this.toPublic().fingerprint()</span></code>.</p>
</div>
<div class="section" id="privatekey-createverify-hashalgorithm">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#createVerify([hashAlgorithm])</span></code><a class="headerlink" href="#privatekey-createverify-hashalgorithm" title="Permalink to this headline">¶</a></h3>
<p>Same as <code class="docutils literal notranslate"><span class="pre">this.toPublic().createVerify()</span></code>.</p>
</div>
<div class="section" id="privatekey-createsign-hashalgorithm">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#createSign([hashAlgorithm])</span></code><a class="headerlink" href="#privatekey-createsign-hashalgorithm" title="Permalink to this headline">¶</a></h3>
<p>Creates a <code class="docutils literal notranslate"><span class="pre">crypto.Sign</span></code> specialized to use this PrivateKey (and the correct
key algorithm to match it). The returned Signer has the same API as a regular
one, except that the <code class="docutils literal notranslate"><span class="pre">sign()</span></code> function takes no arguments, and returns a
<code class="docutils literal notranslate"><span class="pre">Signature</span></code> object.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hashAlgorithm</span></code> – optional String name of hash algorithm to use, any
supported by OpenSSL are valid, usually including
<code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">v.sign()</span></code> Parameters</p>
<ul class="simple">
<li><p>none</p></li>
</ul>
</div>
<div class="section" id="privatekey-derive-newtype">
<h3><code class="docutils literal notranslate"><span class="pre">PrivateKey#derive(newType)</span></code><a class="headerlink" href="#privatekey-derive-newtype" title="Permalink to this headline">¶</a></h3>
<p>Derives a related key of type <code class="docutils literal notranslate"><span class="pre">newType</span></code> from this key. Currently this is
only supported to change between <code class="docutils literal notranslate"><span class="pre">ed25519</span></code> and <code class="docutils literal notranslate"><span class="pre">curve25519</span></code> keys which are
stored with the same private key (but usually distinct public keys in order
to avoid degenerate keys that lead to a weak Diffie-Hellman exchange).</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newType</span></code> – String, type of key to derive, either <code class="docutils literal notranslate"><span class="pre">ed25519</span></code> or <code class="docutils literal notranslate"><span class="pre">curve25519</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="fingerprints">
<h2>Fingerprints<a class="headerlink" href="#fingerprints" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parsefingerprint-fingerprint-options">
<h3><code class="docutils literal notranslate"><span class="pre">parseFingerprint(fingerprint[,</span> <span class="pre">options])</span></code><a class="headerlink" href="#parsefingerprint-fingerprint-options" title="Permalink to this headline">¶</a></h3>
<p>Pre-parses a fingerprint, creating a <code class="docutils literal notranslate"><span class="pre">Fingerprint</span></code> object that can be used to
quickly locate a key by using the <code class="docutils literal notranslate"><span class="pre">Fingerprint#matches</span></code> function.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fingerprint</span></code> – String, the fingerprint value, in any supported format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> – Optional Object, with properties:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithms</span></code> – Array of strings, names of hash algorithms to limit
support to. If <code class="docutils literal notranslate"><span class="pre">fingerprint</span></code> uses a hash algorithm not on
this list, throws <code class="docutils literal notranslate"><span class="pre">InvalidAlgorithmError</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hashType</span></code> – String, the type of hash the fingerprint uses, either <code class="docutils literal notranslate"><span class="pre">ssh</span></code>
or <code class="docutils literal notranslate"><span class="pre">spki</span></code> (normally auto-detected based on the format, but
can be overridden)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – String, the entity this fingerprint identifies, either <code class="docutils literal notranslate"><span class="pre">key</span></code> or
<code class="docutils literal notranslate"><span class="pre">certificate</span></code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="fingerprint-isfingerprint-obj">
<h3><code class="docutils literal notranslate"><span class="pre">Fingerprint.isFingerprint(obj)</span></code><a class="headerlink" href="#fingerprint-isfingerprint-obj" title="Permalink to this headline">¶</a></h3>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given object is a valid <code class="docutils literal notranslate"><span class="pre">Fingerprint</span></code> object created by a
version of <code class="docutils literal notranslate"><span class="pre">sshpk</span></code> compatible with this one.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – Object to identify</p></li>
</ul>
</div>
<div class="section" id="fingerprint-tostring-format">
<h3><code class="docutils literal notranslate"><span class="pre">Fingerprint#toString([format])</span></code><a class="headerlink" href="#fingerprint-tostring-format" title="Permalink to this headline">¶</a></h3>
<p>Returns a fingerprint as a string, in the given format.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – Optional String, format to use, valid options are <code class="docutils literal notranslate"><span class="pre">hex</span></code> and
<code class="docutils literal notranslate"><span class="pre">base64</span></code>. If this <code class="docutils literal notranslate"><span class="pre">Fingerprint</span></code> uses the <code class="docutils literal notranslate"><span class="pre">md5</span></code> algorithm, the
default format is <code class="docutils literal notranslate"><span class="pre">hex</span></code>. Otherwise, the default is <code class="docutils literal notranslate"><span class="pre">base64</span></code>.</p></li>
</ul>
</div>
<div class="section" id="fingerprint-matches-keyorcertificate">
<h3><code class="docutils literal notranslate"><span class="pre">Fingerprint#matches(keyOrCertificate)</span></code><a class="headerlink" href="#fingerprint-matches-keyorcertificate" title="Permalink to this headline">¶</a></h3>
<p>Verifies whether or not this <code class="docutils literal notranslate"><span class="pre">Fingerprint</span></code> matches a given <code class="docutils literal notranslate"><span class="pre">Key</span></code> or
<code class="docutils literal notranslate"><span class="pre">Certificate</span></code>. This function uses double-hashing to avoid leaking timing
information. Returns a boolean.</p>
<p>Note that a <code class="docutils literal notranslate"><span class="pre">Key</span></code>-type Fingerprint will always return <code class="docutils literal notranslate"><span class="pre">false</span></code> if asked to match
a <code class="docutils literal notranslate"><span class="pre">Certificate</span></code> and vice versa.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keyOrCertificate</span></code> – a <code class="docutils literal notranslate"><span class="pre">Key</span></code> object or <code class="docutils literal notranslate"><span class="pre">Certificate</span></code> object, the entity to
match this fingerprint against</p></li>
</ul>
</div>
</div>
<div class="section" id="signatures">
<h2>Signatures<a class="headerlink" href="#signatures" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parsesignature-signature-algorithm-format">
<h3><code class="docutils literal notranslate"><span class="pre">parseSignature(signature,</span> <span class="pre">algorithm,</span> <span class="pre">format)</span></code><a class="headerlink" href="#parsesignature-signature-algorithm-format" title="Permalink to this headline">¶</a></h3>
<p>Parses a signature in a given format, creating a <code class="docutils literal notranslate"><span class="pre">Signature</span></code> object. Useful
for converting between the SSH and ASN.1 (PKCS/OpenSSL) signature formats, and
also returned as output from <code class="docutils literal notranslate"><span class="pre">PrivateKey#createSign().sign()</span></code>.</p>
<p>A Signature object can also be passed to a verifier produced by
<code class="docutils literal notranslate"><span class="pre">Key#createVerify()</span></code> and it will automatically be converted internally into the
correct format for verification.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">signature</span></code> – a Buffer (binary) or String (base64), data of the actual
signature in the given format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> – a String, name of the algorithm to be used, possible values
are <code class="docutils literal notranslate"><span class="pre">rsa</span></code>, <code class="docutils literal notranslate"><span class="pre">dsa</span></code>, <code class="docutils literal notranslate"><span class="pre">ecdsa</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – a String, either <code class="docutils literal notranslate"><span class="pre">asn1</span></code> or <code class="docutils literal notranslate"><span class="pre">ssh</span></code></p></li>
</ul>
</div>
<div class="section" id="signature-issignature-obj">
<h3><code class="docutils literal notranslate"><span class="pre">Signature.isSignature(obj)</span></code><a class="headerlink" href="#signature-issignature-obj" title="Permalink to this headline">¶</a></h3>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given object is a valid <code class="docutils literal notranslate"><span class="pre">Signature</span></code> object created by a
version of <code class="docutils literal notranslate"><span class="pre">sshpk</span></code> compatible with this one.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> – Object to identify</p></li>
</ul>
</div>
<div class="section" id="signature-tobuffer-format-asn1">
<h3><code class="docutils literal notranslate"><span class="pre">Signature#toBuffer([format</span> <span class="pre">=</span> <span class="pre">'asn1'])</span></code><a class="headerlink" href="#signature-tobuffer-format-asn1" title="Permalink to this headline">¶</a></h3>
<p>Converts a Signature to the given format and returns it as a Buffer.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – a String, either <code class="docutils literal notranslate"><span class="pre">asn1</span></code> or <code class="docutils literal notranslate"><span class="pre">ssh</span></code></p></li>
</ul>
</div>
<div class="section" id="signature-tostring-format-asn1">
<h3><code class="docutils literal notranslate"><span class="pre">Signature#toString([format</span> <span class="pre">=</span> <span class="pre">'asn1'])</span></code><a class="headerlink" href="#signature-tostring-format-asn1" title="Permalink to this headline">¶</a></h3>
<p>Same as <code class="docutils literal notranslate"><span class="pre">this.toBuffer(format).toString('base64')</span></code>.</p>
</div>
</div>
<div class="section" id="certificates">
<h2>Certificates<a class="headerlink" href="#certificates" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sshpk</span></code> includes basic support for parsing certificates in X.509 (PEM) format
and the OpenSSH certificate format. This feature is intended to be used mainly
to access basic metadata about certificates, extract public keys from them, and
also to generate simple self-signed certificates from an existing key.</p>
<p>Notably, there is no implementation of CA chain-of-trust verification, and only
very minimal support for key usage restrictions. Please do the security world
a favour, and DO NOT use this code for certificate verification in the
traditional X.509 CA chain style.</p>
<div class="section" id="parsecertificate-data-format">
<h3><code class="docutils literal notranslate"><span class="pre">parseCertificate(data,</span> <span class="pre">format)</span></code><a class="headerlink" href="#parsecertificate-data-format" title="Permalink to this headline">¶</a></h3>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – a Buffer or String</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – a String, format to use, one of <code class="docutils literal notranslate"><span class="pre">'openssh'</span></code>, <code class="docutils literal notranslate"><span class="pre">'pem'</span></code> (X.509 in a
PEM wrapper), or <code class="docutils literal notranslate"><span class="pre">'x509'</span></code> (raw DER encoded)</p></li>
</ul>
</div>
<div class="section" id="createselfsignedcertificate-subject-privatekey-options">
<h3><code class="docutils literal notranslate"><span class="pre">createSelfSignedCertificate(subject,</span> <span class="pre">privateKey[,</span> <span class="pre">options])</span></code><a class="headerlink" href="#createselfsignedcertificate-subject-privatekey-options" title="Permalink to this headline">¶</a></h3>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">subject</span></code> – an Identity, the subject of the certificate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">privateKey</span></code> – a PrivateKey, the key of the subject: will be used both to be
placed in the certificate and also to sign it (since this is
a self-signed certificate)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> – optional Object, with keys:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">lifetime</span></code> – optional Number, lifetime of the certificate from now in
seconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">validFrom</span></code>, <code class="docutils literal notranslate"><span class="pre">validUntil</span></code> – optional Dates, beginning and end of
certificate validity period. If given
<code class="docutils literal notranslate"><span class="pre">lifetime</span></code> will be ignored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">serial</span></code> – optional Buffer, the serial number of the certificate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">purposes</span></code> – optional Array of String, X.509 key usage restrictions</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="createcertificate-subject-key-issuer-issuerkey-options">
<h3><code class="docutils literal notranslate"><span class="pre">createCertificate(subject,</span> <span class="pre">key,</span> <span class="pre">issuer,</span> <span class="pre">issuerKey[,</span> <span class="pre">options])</span></code><a class="headerlink" href="#createcertificate-subject-key-issuer-issuerkey-options" title="Permalink to this headline">¶</a></h3>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">subject</span></code> – an Identity, the subject of the certificate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code> – a Key, the public key of the subject</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">issuer</span></code> – an Identity, the issuer of the certificate who will sign it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">issuerKey</span></code> – a PrivateKey, the issuer’s private key for signing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> – optional Object, with keys:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">lifetime</span></code> – optional Number, lifetime of the certificate from now in
seconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">validFrom</span></code>, <code class="docutils literal notranslate"><span class="pre">validUntil</span></code> – optional Dates, beginning and end of
certificate validity period. If given
<code class="docutils literal notranslate"><span class="pre">lifetime</span></code> will be ignored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">serial</span></code> – optional Buffer, the serial number of the certificate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">purposes</span></code> – optional Array of String, X.509 key usage restrictions</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="certificate-subjects">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#subjects</span></code><a class="headerlink" href="#certificate-subjects" title="Permalink to this headline">¶</a></h3>
<p>Array of <code class="docutils literal notranslate"><span class="pre">Identity</span></code> instances describing the subject of this certificate.</p>
</div>
<div class="section" id="certificate-issuer">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#issuer</span></code><a class="headerlink" href="#certificate-issuer" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Identity</span></code> of the Certificate’s issuer (signer).</p>
</div>
<div class="section" id="certificate-subjectkey">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#subjectKey</span></code><a class="headerlink" href="#certificate-subjectkey" title="Permalink to this headline">¶</a></h3>
<p>The public key of the subject of the certificate, as a <code class="docutils literal notranslate"><span class="pre">Key</span></code> instance.</p>
</div>
<div class="section" id="certificate-issuerkey">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#issuerKey</span></code><a class="headerlink" href="#certificate-issuerkey" title="Permalink to this headline">¶</a></h3>
<p>The public key of the signing issuer of this certificate, as a <code class="docutils literal notranslate"><span class="pre">Key</span></code> instance.
May be <code class="docutils literal notranslate"><span class="pre">undefined</span></code> if the issuer’s key is unknown (e.g. on an X509 certificate).</p>
</div>
<div class="section" id="certificate-serial">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#serial</span></code><a class="headerlink" href="#certificate-serial" title="Permalink to this headline">¶</a></h3>
<p>The serial number of the certificate. As this is normally a 64-bit or wider
integer, it is returned as a Buffer.</p>
</div>
<div class="section" id="certificate-purposes">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#purposes</span></code><a class="headerlink" href="#certificate-purposes" title="Permalink to this headline">¶</a></h3>
<p>Array of Strings indicating the X.509 key usage purposes that this certificate
is valid for. The possible strings at the moment are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'signature'</span></code> – key can be used for digital signatures</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'identity'</span></code> – key can be used to attest about the identity of the signer
(X.509 calls this <code class="docutils literal notranslate"><span class="pre">nonRepudiation</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'codeSigning'</span></code> – key can be used to sign executable code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'keyEncryption'</span></code> – key can be used to encrypt other keys</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'encryption'</span></code> – key can be used to encrypt data (only applies for RSA)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'keyAgreement'</span></code> – key can be used for key exchange protocols such as
Diffie-Hellman</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ca'</span></code> – key can be used to sign other certificates (is a Certificate
Authority)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'crl'</span></code> – key can be used to sign Certificate Revocation Lists (CRLs)</p></li>
</ul>
</div>
<div class="section" id="certificate-getextension-nameoroid">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#getExtension(nameOrOid)</span></code><a class="headerlink" href="#certificate-getextension-nameoroid" title="Permalink to this headline">¶</a></h3>
<p>Retrieves information about a certificate extension, if present, or returns
<code class="docutils literal notranslate"><span class="pre">undefined</span></code> if not. The string argument <code class="docutils literal notranslate"><span class="pre">nameOrOid</span></code> should be either the OID
(for X509 extensions) or the name (for OpenSSH extensions) of the extension
to retrieve.</p>
<p>The object returned will have the following properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – String, set to either <code class="docutils literal notranslate"><span class="pre">'x509'</span></code> or <code class="docutils literal notranslate"><span class="pre">'openssh'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">oid</span></code> – String, only one set based on value of <code class="docutils literal notranslate"><span class="pre">format</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> – Buffer, the raw data inside the extension</p></li>
</ul>
</div>
<div class="section" id="certificate-getextensions">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#getExtensions()</span></code><a class="headerlink" href="#certificate-getextensions" title="Permalink to this headline">¶</a></h3>
<p>Returns an Array of all present certificate extensions, in the same manner and
format as <code class="docutils literal notranslate"><span class="pre">getExtension()</span></code>.</p>
</div>
<div class="section" id="certificate-isexpired-when">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#isExpired([when])</span></code><a class="headerlink" href="#certificate-isexpired-when" title="Permalink to this headline">¶</a></h3>
<p>Tests whether the Certificate is currently expired (i.e. the <code class="docutils literal notranslate"><span class="pre">validFrom</span></code> and
<code class="docutils literal notranslate"><span class="pre">validUntil</span></code> dates specify a range of time that does not include the current
time).</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">when</span></code> – optional Date, if specified, tests whether the Certificate was or
will be expired at the specified time instead of now</p></li>
</ul>
<p>Returns a Boolean.</p>
</div>
<div class="section" id="certificate-issignedbykey-key">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#isSignedByKey(key)</span></code><a class="headerlink" href="#certificate-issignedbykey-key" title="Permalink to this headline">¶</a></h3>
<p>Tests whether the Certificate was validly signed by the given (public) Key.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code> – a Key instance</p></li>
</ul>
<p>Returns a Boolean.</p>
</div>
<div class="section" id="certificate-issignedby-certificate">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#isSignedBy(certificate)</span></code><a class="headerlink" href="#certificate-issignedby-certificate" title="Permalink to this headline">¶</a></h3>
<p>Tests whether this Certificate was validly signed by the subject of the given
certificate. Also tests that the issuer Identity of this Certificate and the
subject Identity of the other Certificate are equivalent.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">certificate</span></code> – another Certificate instance</p></li>
</ul>
<p>Returns a Boolean.</p>
</div>
<div class="section" id="certificate-fingerprint-hashalgo">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#fingerprint([hashAlgo])</span></code><a class="headerlink" href="#certificate-fingerprint-hashalgo" title="Permalink to this headline">¶</a></h3>
<p>Returns the X509-style fingerprint of the entire certificate (as a Fingerprint
instance). This matches what a web-browser or similar would display as the
certificate fingerprint and should not be confused with the fingerprint of the
subject’s public key.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hashAlgo</span></code> – an optional String, any hash function name</p></li>
</ul>
</div>
<div class="section" id="certificate-tobuffer-format">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#toBuffer([format])</span></code><a class="headerlink" href="#certificate-tobuffer-format" title="Permalink to this headline">¶</a></h3>
<p>Serializes the Certificate to a Buffer and returns it.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – an optional String, output format, one of <code class="docutils literal notranslate"><span class="pre">'openssh'</span></code>, <code class="docutils literal notranslate"><span class="pre">'pem'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'x509'</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">'x509'</span></code>.</p></li>
</ul>
<p>Returns a Buffer.</p>
</div>
<div class="section" id="certificate-tostring-format">
<h3><code class="docutils literal notranslate"><span class="pre">Certificate#toString([format])</span></code><a class="headerlink" href="#certificate-tostring-format" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – an optional String, output format, one of <code class="docutils literal notranslate"><span class="pre">'openssh'</span></code>, <code class="docutils literal notranslate"><span class="pre">'pem'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'x509'</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">'pem'</span></code>.</p></li>
</ul>
<p>Returns a String.</p>
</div>
</div>
<div class="section" id="certificate-identities">
<h2>Certificate identities<a class="headerlink" href="#certificate-identities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="identityforhost-hostname">
<h3><code class="docutils literal notranslate"><span class="pre">identityForHost(hostname)</span></code><a class="headerlink" href="#identityforhost-hostname" title="Permalink to this headline">¶</a></h3>
<p>Constructs a host-type Identity for a given hostname.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hostname</span></code> – the fully qualified DNS name of the host</p></li>
</ul>
<p>Returns an Identity instance.</p>
</div>
<div class="section" id="identityforuser-uid">
<h3><code class="docutils literal notranslate"><span class="pre">identityForUser(uid)</span></code><a class="headerlink" href="#identityforuser-uid" title="Permalink to this headline">¶</a></h3>
<p>Constructs a user-type Identity for a given UID.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> – a String, user identifier (login name)</p></li>
</ul>
<p>Returns an Identity instance.</p>
</div>
<div class="section" id="identityforemail-email">
<h3><code class="docutils literal notranslate"><span class="pre">identityForEmail(email)</span></code><a class="headerlink" href="#identityforemail-email" title="Permalink to this headline">¶</a></h3>
<p>Constructs an email-type Identity for a given email address.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">email</span></code> – a String, email address</p></li>
</ul>
<p>Returns an Identity instance.</p>
</div>
<div class="section" id="identityfromdn-dn">
<h3><code class="docutils literal notranslate"><span class="pre">identityFromDN(dn)</span></code><a class="headerlink" href="#identityfromdn-dn" title="Permalink to this headline">¶</a></h3>
<p>Parses an LDAP-style DN string (e.g. <code class="docutils literal notranslate"><span class="pre">'CN=foo,</span> <span class="pre">C=US'</span></code>) and turns it into an
Identity instance.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dn</span></code> – a String</p></li>
</ul>
<p>Returns an Identity instance.</p>
</div>
<div class="section" id="identityfromarray-arr">
<h3><code class="docutils literal notranslate"><span class="pre">identityFromArray(arr)</span></code><a class="headerlink" href="#identityfromarray-arr" title="Permalink to this headline">¶</a></h3>
<p>Constructs an Identity from an array of DN components (see <code class="docutils literal notranslate"><span class="pre">Identity#toArray()</span></code>
for the format).</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">arr</span></code> – an Array of Objects, DN components with <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code></p></li>
</ul>
<p>Returns an Identity instance.</p>
<p>Supported attributes in DNs:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute name</p></th>
<th class="head"><p>OID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cn</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">o</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.10</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ou</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.11</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.7</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.8</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.6</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sn</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">postalCode</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.17</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">serialNumber</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.5</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">street</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.9</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x500UniqueIdentifier</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.45</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">role</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.72</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telephoneNumber</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.20</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.13</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dc</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.9.2342.19200300.100.1.25</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.9.2342.19200300.100.1.1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mail</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.9.2342.19200300.100.1.3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">title</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.12</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gn</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.42</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">initials</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.43</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pseudonym</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.5.4.65</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="identity-tostring">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#toString()</span></code><a class="headerlink" href="#identity-tostring" title="Permalink to this headline">¶</a></h3>
<p>Returns the identity as an LDAP-style DN string.
e.g. <code class="docutils literal notranslate"><span class="pre">'CN=foo,</span> <span class="pre">O=bar</span> <span class="pre">corp,</span> <span class="pre">C=us'</span></code></p>
</div>
<div class="section" id="identity-type">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#type</span></code><a class="headerlink" href="#identity-type" title="Permalink to this headline">¶</a></h3>
<p>The type of identity. One of <code class="docutils literal notranslate"><span class="pre">'host'</span></code>, <code class="docutils literal notranslate"><span class="pre">'user'</span></code>, <code class="docutils literal notranslate"><span class="pre">'email'</span></code> or <code class="docutils literal notranslate"><span class="pre">'unknown'</span></code></p>
</div>
<div class="section" id="identity-hostname">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#hostname</span></code><a class="headerlink" href="#identity-hostname" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="identity-uid">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#uid</span></code><a class="headerlink" href="#identity-uid" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="identity-email">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#email</span></code><a class="headerlink" href="#identity-email" title="Permalink to this headline">¶</a></h3>
<p>Set when <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">'host'</span></code>, <code class="docutils literal notranslate"><span class="pre">'user'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'email'</span></code>, respectively. Strings.</p>
</div>
<div class="section" id="identity-cn">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#cn</span></code><a class="headerlink" href="#identity-cn" title="Permalink to this headline">¶</a></h3>
<p>The value of the first <code class="docutils literal notranslate"><span class="pre">CN=</span></code> in the DN, if any. It’s probably better to use
the <code class="docutils literal notranslate"><span class="pre">#get()</span></code> method instead of this property.</p>
</div>
<div class="section" id="identity-get-name-asarray">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#get(name[,</span> <span class="pre">asArray])</span></code><a class="headerlink" href="#identity-get-name-asarray" title="Permalink to this headline">¶</a></h3>
<p>Returns the value of a named attribute in the Identity DN. If there is no
attribute of the given name, returns <code class="docutils literal notranslate"><span class="pre">undefined</span></code>. If multiple components
of the DN contain an attribute of this name, an exception is thrown unless
the <code class="docutils literal notranslate"><span class="pre">asArray</span></code> argument is given as <code class="docutils literal notranslate"><span class="pre">true</span></code> – then they will be returned as
an Array in the same order they appear in the DN.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – a String</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asArray</span></code> – an optional Boolean</p></li>
</ul>
</div>
<div class="section" id="identity-toarray">
<h3><code class="docutils literal notranslate"><span class="pre">Identity#toArray()</span></code><a class="headerlink" href="#identity-toarray" title="Permalink to this headline">¶</a></h3>
<p>Returns the Identity as an Array of DN component objects. This looks like:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;cn&quot;</span><span class="p">,</span>
  <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;Joe Bloggs&quot;</span>
<span class="p">},</span>
<span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span>
  <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;Organisation Ltd&quot;</span>
<span class="p">}</span> <span class="p">]</span>
</pre></div>
</div>
<p>Each object has a <code class="docutils literal notranslate"><span class="pre">name</span></code> and a <code class="docutils literal notranslate"><span class="pre">value</span></code> property. The returned objects may be
safely modified.</p>
</div>
</div>
<div class="section" id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="invalidalgorithmerror">
<h3><code class="docutils literal notranslate"><span class="pre">InvalidAlgorithmError</span></code><a class="headerlink" href="#invalidalgorithmerror" title="Permalink to this headline">¶</a></h3>
<p>The specified algorithm is not valid, either because it is not supported, or
because it was not included on a list of allowed algorithms.</p>
<p>Thrown by <code class="docutils literal notranslate"><span class="pre">Fingerprint.parse</span></code>, <code class="docutils literal notranslate"><span class="pre">Key#fingerprint</span></code>.</p>
<p>Properties</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> – the algorithm that could not be validated</p></li>
</ul>
</div>
<div class="section" id="fingerprintformaterror">
<h3><code class="docutils literal notranslate"><span class="pre">FingerprintFormatError</span></code><a class="headerlink" href="#fingerprintformaterror" title="Permalink to this headline">¶</a></h3>
<p>The fingerprint string given could not be parsed as a supported fingerprint
format, or the specified fingerprint format is invalid.</p>
<p>Thrown by <code class="docutils literal notranslate"><span class="pre">Fingerprint.parse</span></code>, <code class="docutils literal notranslate"><span class="pre">Fingerprint#toString</span></code>.</p>
<p>Properties</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fingerprint</span></code> – if caused by a fingerprint, the string value given</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – if caused by an invalid format specification, the string value given</p></li>
</ul>
</div>
<div class="section" id="keyparseerror">
<h3><code class="docutils literal notranslate"><span class="pre">KeyParseError</span></code><a class="headerlink" href="#keyparseerror" title="Permalink to this headline">¶</a></h3>
<p>The key data given could not be parsed as a valid key.</p>
<p>Properties</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keyName</span></code> – <code class="docutils literal notranslate"><span class="pre">filename</span></code> that was given to <code class="docutils literal notranslate"><span class="pre">parseKey</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – the <code class="docutils literal notranslate"><span class="pre">format</span></code> that was trying to parse the key (see <code class="docutils literal notranslate"><span class="pre">parseKey</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">innerErr</span></code> – the inner Error thrown by the format parser</p></li>
</ul>
</div>
<div class="section" id="keyencryptederror">
<h3><code class="docutils literal notranslate"><span class="pre">KeyEncryptedError</span></code><a class="headerlink" href="#keyencryptederror" title="Permalink to this headline">¶</a></h3>
<p>The key is encrypted with a symmetric key (ie, it is password protected). The
parsing operation would succeed if it was given the <code class="docutils literal notranslate"><span class="pre">passphrase</span></code> option.</p>
<p>Properties</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keyName</span></code> – <code class="docutils literal notranslate"><span class="pre">filename</span></code> that was given to <code class="docutils literal notranslate"><span class="pre">parseKey</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – the <code class="docutils literal notranslate"><span class="pre">format</span></code> that was trying to parse the key (currently can only
be <code class="docutils literal notranslate"><span class="pre">&quot;pem&quot;</span></code>)</p></li>
</ul>
</div>
<div class="section" id="certificateparseerror">
<h3><code class="docutils literal notranslate"><span class="pre">CertificateParseError</span></code><a class="headerlink" href="#certificateparseerror" title="Permalink to this headline">¶</a></h3>
<p>The certificate data given could not be parsed as a valid certificate.</p>
<p>Properties</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">certName</span></code> – <code class="docutils literal notranslate"><span class="pre">filename</span></code> that was given to <code class="docutils literal notranslate"><span class="pre">parseCertificate</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – the <code class="docutils literal notranslate"><span class="pre">format</span></code> that was trying to parse the key
(see <code class="docutils literal notranslate"><span class="pre">parseCertificate</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">innerErr</span></code> – the inner Error thrown by the format parser</p></li>
</ul>
</div>
</div>
<div class="section" id="friends-of-sshpk">
<h2>Friends of sshpk<a class="headerlink" href="#friends-of-sshpk" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/arekinath/node-sshpk-agent"><code class="docutils literal notranslate"><span class="pre">sshpk-agent</span></code></a> is a library
for speaking the <code class="docutils literal notranslate"><span class="pre">ssh-agent</span></code> protocol from node.js, which uses <code class="docutils literal notranslate"><span class="pre">sshpk</span></code></p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./nbs/z-repo_Solidity/Faucet/node_modules/sshpk"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Dave Friedman<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>