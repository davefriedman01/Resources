
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ethereum-cryptography &#8212; Mathematics</title>
    
  <link href="../../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../index.html">
      
      <img src="../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Mathematics</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../README.html">
   Mathematics
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Sets.html">
   Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../NumberTheory.html">
   Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../AlgorithmicNumberTheory.html">
   Algorithmic Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../ModularArithmetic.html">
   Modular Arithmetic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Polynomials.html">
   Polynomials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Structures.html">
   Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Groups.html">
   Groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Fields.html">
   Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../mathematical_foundations.html">
   Imports
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modeling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../RandomWalks.html">
   Random Walks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DigitalSignalProcessing.html">
   Digital Signal Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DifferentialEquations.html">
   Differential Equations
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Blockchain
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../PythonBlockchain.html">
   Python Blockchain
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../_sources/nbs/z-repo_Solidity/Faucet/node_modules/ethereum-cryptography/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/davefriedman01/Resources"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/davefriedman01/Resources/issues/new?title=Issue%20on%20page%20%2Fnbs/z-repo_Solidity/Faucet/node_modules/ethereum-cryptography/README.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation">
   Installation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pseudorandom-number-generation-submodule">
   Pseudorandom number generation submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-types">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-usage">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keccak-submodule">
   Keccak submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scrypt-submodule">
   Scrypt submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#password-encoding">
     Password encoding
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pbkdf2-submodule">
   PBKDF2 submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Password encoding
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-digests">
     Supported digests
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sha-256-submodule">
   SHA-256 submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ripemd-160-submodule">
   RIPEMD-160 submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#blake2b-submodule">
   BLAKE2b submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aes-submodule">
   AES submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#encrypting-with-passwords">
     Encrypting with passwords
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operation-modes">
     Operation modes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#padding-plaintext-messages">
     Padding plaintext messages
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-to-use-the-iv-parameter">
     How to use the IV parameter
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-to-handle-errors-with-this-module">
     How to handle errors with this module
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#secp256k1-submodule">
   Secp256k1 submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-private-keys">
     Creating private keys
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id16">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hierarchical-deterministic-keys-submodule">
   Hierarchical Deterministic keys submodule
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#seed-recovery-phrases">
   Seed recovery phrases
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     Function types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#word-lists">
     Word lists
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id21">
     Example usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#browser-usage">
   Browser usage
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rollup-setup">
     Rollup setup
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#missing-cryptographic-primitives">
   Missing cryptographic primitives
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#security-audit">
   Security audit
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="ethereum-cryptography">
<h1>ethereum-cryptography<a class="headerlink" href="#ethereum-cryptography" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://www.npmjs.com/package/ethereum-cryptography"><img alt="npm version" src="https://img.shields.io/npm/v/ethereum-cryptography.svg" /></a>
<a class="reference external" href="https://travis-ci.org/ethereum/js-ethereum-cryptography"><img alt="Travis CI" src="https://img.shields.io/travis/ethereum/js-ethereum-cryptography/master.svg?label=Travis%20CI" /></a>
<a class="reference external" href="https://github.com/ethereum/js-ethereum-cryptography/blob/master/packages/ethereum-cryptography/LICENSE"><img alt="license" src="https://img.shields.io/npm/l/ethereum-cryptography" /></a>
<a class="reference external" href="https://www.npmjs.com/package/ethereum-cryptography"><img alt="Types" src="https://img.shields.io/npm/types/ethereum-cryptography.svg" /></a></p>
<p>This npm package contains all the cryptographic primitives normally used when
developing Javascript/TypeScript applications and tools for Ethereum.</p>
<p>Pure Javascript implementations of all the primitives are included, so it can
be used out of the box for web applications and libraries.</p>
<p>In Node, it takes advantage of the built-in and N-API based implementations
whenever possible.</p>
<p>The cryptographic primitives included are:</p>
<ul class="simple">
<li><p><a class="reference external" href="#pseudorandom-number-generation-submodule">Pseudorandom number generation</a></p></li>
<li><p><a class="reference external" href="#keccak-submodule">Keccak</a></p></li>
<li><p><a class="reference external" href="#scrypt-submodule">Scrypt</a></p></li>
<li><p><a class="reference external" href="#pbkdf2-submodule">PBKDF2</a></p></li>
<li><p><a class="reference external" href="#sha-256-submodule">SHA-256</a></p></li>
<li><p><a class="reference external" href="#ripemd-160-submodule">RIPEMD-160</a></p></li>
<li><p><a class="reference external" href="#blake2b-submodule">BLAKE2b</a></p></li>
<li><p><a class="reference external" href="#aes-submodule">AES</a></p></li>
<li><p><a class="reference external" href="#secp256k1-submodule">Secp256k1</a></p></li>
<li><p><a class="reference external" href="#hierarchical-deterministic-keys-submodule">Hierarchical Deterministic keys derivation</a></p></li>
<li><p><a class="reference external" href="#seed-recovery-phrases">Seed recovery phrases</a></p></li>
</ul>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Via <code class="docutils literal notranslate"><span class="pre">npm</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install ethereum-cryptography
</pre></div>
</div>
<p>Via <code class="docutils literal notranslate"><span class="pre">yarn</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ yarn add ethereum-cryptography
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>This package has no single entry-point, but submodule for each cryptographic
primitive. Read each primitive’s section of this document to learn how to use
them.</p>
<p>The reason for this is that importing everything from a single file will lead to
huge bundles when using this package for the web. This could be avoided through
tree-shaking, but the possibility of it not working properly on one of
<a class="reference external" href="#browser-usage">the supported bundlers</a> is too high.</p>
</div>
<div class="section" id="pseudorandom-number-generation-submodule">
<h2>Pseudorandom number generation submodule<a class="headerlink" href="#pseudorandom-number-generation-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">random</span></code> submodule has functions to generate cryptographically strong
pseudo-random data in synchronous and asynchronous ways.</p>
<p>In Node, this functions are backed by <a class="reference external" href="https://nodejs.org/api/crypto.html#crypto_crypto_randombytes_size_callback"><code class="docutils literal notranslate"><span class="pre">crypto.randomBytes</span></code></a>.</p>
<p>In the browser, <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues"><code class="docutils literal notranslate"><span class="pre">crypto.getRandomValues</span></code></a>
is used. If not available, this module won’t work, as that would be insecure.</p>
<div class="section" id="function-types">
<h3>Function types<a class="headerlink" href="#function-types" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">getRandomBytes</span><span class="p">(</span><span class="nx">bytes</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">getRandomBytesSync</span><span class="p">(</span><span class="nx">bytes</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-usage">
<h3>Example usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">getRandomBytesSync</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/random&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getRandomBytesSync</span><span class="p">(</span><span class="mf">32</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="keccak-submodule">
<h2>Keccak submodule<a class="headerlink" href="#keccak-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">keccak</span></code> submodule has four functions that implement different variations of
the Keccak hashing algorithm. These are <code class="docutils literal notranslate"><span class="pre">keccak224</span></code>, <code class="docutils literal notranslate"><span class="pre">keccak256</span></code>, <code class="docutils literal notranslate"><span class="pre">keccak384</span></code>,
and <code class="docutils literal notranslate"><span class="pre">keccak512</span></code>.</p>
<div class="section" id="id1">
<h3>Function types<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">keccak224</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">keccak256</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">keccak384</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">keccak512</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Example usage<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">keccak256</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/keccak&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">keccak256</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="scrypt-submodule">
<h2>Scrypt submodule<a class="headerlink" href="#scrypt-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">scrypt</span></code> submodule has two functions implementing the Scrypt key
derivation algorithm in synchronous and asynchronous ways. This algorithm is
very slow, and using the synchronous version in the browser is not recommended,
as it will block its main thread and hang your UI.</p>
<div class="section" id="password-encoding">
<h3>Password encoding<a class="headerlink" href="#password-encoding" title="Permalink to this headline">¶</a></h3>
<p>Encoding passwords is a frequent source of errors. Please read
<a class="reference external" href="https://github.com/ricmoo/scrypt-js/tree/0eb70873ddf3d24e34b53e0d9a99a0cef06a79c0#encoding-notes">these notes</a>
before using this submodule.</p>
</div>
<div class="section" id="id3">
<h3>Function types<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">scrypt</span><span class="p">(</span><span class="nx">password</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">salt</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">n</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">p</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">r</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">dklen</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">scryptSync</span><span class="p">(</span><span class="nx">password</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">salt</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">n</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">p</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">r</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">dklen</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Example usage<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">scryptSync</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/scrypt&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
  <span class="nx">scryptSync</span><span class="p">(</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;ascii password&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">),</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;salt&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">),</span>
    <span class="mf">16</span><span class="p">,</span>
    <span class="mf">1</span><span class="p">,</span>
    <span class="mf">1</span><span class="p">,</span>
    <span class="mf">64</span>
  <span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pbkdf2-submodule">
<h2>PBKDF2 submodule<a class="headerlink" href="#pbkdf2-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">pbkdf2</span></code> submodule has two functions implementing the PBKDF2 key
derivation algorithm in synchronous and asynchronous ways. This algorithm is
very slow, and using the synchronous version in the browser is not recommended,
as it will block its main thread and hang your UI.</p>
<div class="section" id="id5">
<h3>Password encoding<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Encoding passwords is a frequent source of errors. Please read
<a class="reference external" href="https://github.com/ricmoo/scrypt-js/tree/0eb70873ddf3d24e34b53e0d9a99a0cef06a79c0#encoding-notes">these notes</a>
before using this submodule.</p>
</div>
<div class="section" id="supported-digests">
<h3>Supported digests<a class="headerlink" href="#supported-digests" title="Permalink to this headline">¶</a></h3>
<p>In Node this submodule uses the built-in implementation and supports any digest
returned by <a class="reference external" href="https://nodejs.org/api/crypto.html#crypto_crypto_gethashes"><code class="docutils literal notranslate"><span class="pre">crypto.getHashes</span></code></a>.</p>
<p>In the browser, it is tested to support at least <code class="docutils literal notranslate"><span class="pre">sha256</span></code>, the only digest
normally used with <code class="docutils literal notranslate"><span class="pre">pbkdf2</span></code> in Ethereum. It may support more.</p>
</div>
<div class="section" id="id6">
<h3>Function types<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">pbkdf2</span><span class="p">(</span><span class="nx">password</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">salt</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">iterations</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">keylen</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">digest</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">pbkdf2Sync</span><span class="p">(</span><span class="nx">password</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">salt</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">iterations</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">keylen</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">digest</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>Example usage<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">pbkdf2Sync</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/pbkdf2&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
  <span class="nx">pbkdf2Sync</span><span class="p">(</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;ascii password&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">),</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;salt&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">),</span>
    <span class="mf">4096</span><span class="p">,</span>
    <span class="mf">32</span><span class="p">,</span>
    <span class="s1">&#39;sha256&#39;</span>
  <span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sha-256-submodule">
<h2>SHA-256 submodule<a class="headerlink" href="#sha-256-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">sha256</span></code> submodule contains a single function implementing the SHA-256
hashing algorithm.</p>
<div class="section" id="id8">
<h3>Function types<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">sha256</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>Example usage<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">sha256</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/sha256&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sha256</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ripemd-160-submodule">
<h2>RIPEMD-160 submodule<a class="headerlink" href="#ripemd-160-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ripemd160</span></code> submodule contains a single function implementing the
RIPEMD-160 hashing algorithm.</p>
<div class="section" id="id10">
<h3>Function types<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">ripemd160</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>Example usage<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">ripemd160</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/ripemd160&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ripemd160</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="blake2b-submodule">
<h2>BLAKE2b submodule<a class="headerlink" href="#blake2b-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">blake2b</span></code> submodule contains a single function implementing the
BLAKE2b non-keyed hashing algorithm.</p>
<div class="section" id="id12">
<h3>Function types<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">blake2b</span><span class="p">(</span><span class="nx">input</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">outputLength</span> <span class="o">=</span> <span class="mf">64</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>Example usage<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">blake2b</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/blake2b&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blake2b</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="aes-submodule">
<h2>AES submodule<a class="headerlink" href="#aes-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">aes</span></code> submodule contains encryption and decryption functions implementing
the <a class="reference external" href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard">Advanced Encryption Standard</a>
algorithm.</p>
<div class="section" id="encrypting-with-passwords">
<h3>Encrypting with passwords<a class="headerlink" href="#encrypting-with-passwords" title="Permalink to this headline">¶</a></h3>
<p>AES is not supposed to be used directly with a password. Doing that will
compromise your users’ security.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">key</span></code> parameters in this submodule are meant to be strong cryptographic
keys. If you want to obtain such a key from a password, please use a
<a class="reference external" href="https://en.wikipedia.org/wiki/Key_derivation_function">key derivation function</a>
like <a class="reference external" href="#pbkdf2-submodule">pbkdf2</a> or <a class="reference external" href="#scrypt-submodule">scrypt</a>.</p>
</div>
<div class="section" id="operation-modes">
<h3>Operation modes<a class="headerlink" href="#operation-modes" title="Permalink to this headline">¶</a></h3>
<p>This submodule works with different <a class="reference external" href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">block cipher modes of operation</a>. If you are using this module in a new
application, we recommend using the default.</p>
<p>While this module may work with any mode supported by OpenSSL, we only test it
with <code class="docutils literal notranslate"><span class="pre">aes-128-ctr</span></code>, <code class="docutils literal notranslate"><span class="pre">aes-128-cbc</span></code>, and <code class="docutils literal notranslate"><span class="pre">aes-256-cbc</span></code>. If you use another module
a warning will be printed in the console.</p>
<p>We only recommend using <code class="docutils literal notranslate"><span class="pre">aes-128-cbc</span></code> and <code class="docutils literal notranslate"><span class="pre">aes-256-cbc</span></code> to decrypt already
encrypted data.</p>
</div>
<div class="section" id="padding-plaintext-messages">
<h3>Padding plaintext messages<a class="headerlink" href="#padding-plaintext-messages" title="Permalink to this headline">¶</a></h3>
<p>Some operation modes require the plaintext message to be a multiple of <code class="docutils literal notranslate"><span class="pre">16</span></code>. If
that isn’t the case, your message has to be padded.</p>
<p>By default, this module automatically pads your messages according to <a class="reference external" href="https://tools.ietf.org/html/rfc2315">PKCS#7</a>.
Note that this padding scheme always adds at least 1 byte of padding. If you
are unsure what anything of this means, we <strong>strongly</strong> recommend you to use
the defaults.</p>
<p>If you need to encrypt without padding or want to use another padding scheme,
you can disable PKCS#7 padding by passing <code class="docutils literal notranslate"><span class="pre">false</span></code> as the last argument and
handling padding yourself. Note that if you do this and your operation mode
requires padding, <code class="docutils literal notranslate"><span class="pre">encrypt</span></code> will throw if your plaintext message isn’t a
multiple of <code class="docutils literal notranslate"><span class="pre">16</span></code>.</p>
<p>This option is only present to enable the decryption of already encrypted data.
To encrypt new data, we recommend using the default.</p>
</div>
<div class="section" id="how-to-use-the-iv-parameter">
<h3>How to use the IV parameter<a class="headerlink" href="#how-to-use-the-iv-parameter" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">iv</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">encrypt</span></code> function must be unique, or the security
of the encryption algorithm can be compromissed.</p>
<p>You can generate a new <code class="docutils literal notranslate"><span class="pre">iv</span></code> using the <code class="docutils literal notranslate"><span class="pre">random</span></code> module.</p>
<p>Note that to decrypt a value, you have to provide the same <code class="docutils literal notranslate"><span class="pre">iv</span></code> used to encrypt
it.</p>
</div>
<div class="section" id="how-to-handle-errors-with-this-module">
<h3>How to handle errors with this module<a class="headerlink" href="#how-to-handle-errors-with-this-module" title="Permalink to this headline">¶</a></h3>
<p>Sensitive information can be leaked via error messages when using this module.
To avoid this, you should make sure that the errors you return don’t
contain the exact reason for the error. Instead, errors must report general
encryption/decryption failures.</p>
<p>Note that implementing this can mean catching all errors that can be thrown
when calling on of this module’s functions, and just throwing a new generic
exception.</p>
</div>
<div class="section" id="id14">
<h3>Function types<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">encrypt</span><span class="p">(</span><span class="nx">msg</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">key</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">iv</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">mode</span> <span class="o">=</span> <span class="s2">&quot;aes-128-ctr&quot;</span><span class="p">,</span> <span class="nx">pkcs7PaddingEnabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">decrypt</span><span class="p">(</span><span class="nx">cypherText</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">key</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">iv</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">mode</span> <span class="o">=</span> <span class="s2">&quot;aes-128-ctr&quot;</span><span class="p">,</span> <span class="nx">pkcs7PaddingEnabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h3>Example usage<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">encrypt</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/aes&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
  <span class="nx">encrypt</span><span class="p">(</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="s2">&quot;ascii&quot;</span><span class="p">),</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;2b7e151628aed2a6abf7158809cf4f3c&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">),</span>
    <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s2">&quot;f0f1f2f3f4f5f6f7f8f9fafbfcfdfeff&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">)</span>
  <span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="secp256k1-submodule">
<h2>Secp256k1 submodule<a class="headerlink" href="#secp256k1-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">secp256k1</span></code> submodule provides a library for elliptic curve operations on
the curve Secp256k1.</p>
<p>It has the exact same API than the version <code class="docutils literal notranslate"><span class="pre">4.x</span></code> of the <a class="reference external" href="https://github.com/cryptocoinjs/secp256k1-node"><code class="docutils literal notranslate"><span class="pre">secp256k1</span></code></a>
module from cryptocoinjs, with two added function to create private keys.</p>
<div class="section" id="creating-private-keys">
<h3>Creating private keys<a class="headerlink" href="#creating-private-keys" title="Permalink to this headline">¶</a></h3>
<p>Secp256k1 private keys need to be cryptographycally secure random numbers with
certain caracteristics. If this is not the case, the security of Secp256k1 is
compromissed.</p>
<p>We strongly recommend to use this module to create new private keys.</p>
</div>
<div class="section" id="id16">
<h3>Function types<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>Functions to create private keys:</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">createPrivateKey</span><span class="p">()</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Uint8Array</span><span class="o">&gt;</span><span class="p">;</span>

<span class="kd">function</span> <span class="kd">function</span> <span class="nx">createPrivateKeySync</span><span class="p">()</span><span class="o">:</span> <span class="nx">Uint8Array</span><span class="p">;</span>
</pre></div>
</div>
<p>For the rest of the functions, pleasse read <a class="reference external" href="https://github.com/cryptocoinjs/secp256k1-node"><code class="docutils literal notranslate"><span class="pre">secp256k1</span></code>’s documentation</a>.</p>
</div>
<div class="section" id="id17">
<h3>Example usage<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">createPrivateKeySync</span><span class="p">,</span> <span class="nx">ecdsaSign</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/secp256k1&quot;</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">msgHash</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span>
  <span class="s2">&quot;82ff40c0a986c6a5cfad4ddf4c3aa6996f1a7837f9c398e17e5de5cbd5a12b28&quot;</span><span class="p">,</span>
  <span class="s2">&quot;hex&quot;</span>
<span class="p">);</span>

<span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">createPrivateKeySync</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">ecdsaSign</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">).</span><span class="nx">signature</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hierarchical-deterministic-keys-submodule">
<h2>Hierarchical Deterministic keys submodule<a class="headerlink" href="#hierarchical-deterministic-keys-submodule" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">hdkey</span></code> submodule provides a library for keys derivation according to
<a class="reference external" href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki">BIP32</a>.</p>
<p>It has almost the exact same API than the version <code class="docutils literal notranslate"><span class="pre">1.x</span></code> of
<a class="reference external" href="https://github.com/cryptocoinjs/hdkey"><code class="docutils literal notranslate"><span class="pre">hdkey</span></code> from cryptocoinjs</a>,
but it’s backed by this package’s primitives, and has built-in TypeScript types.
Its only difference is that it has to be be used with a named import.</p>
<div class="section" id="id18">
<h3>Function types<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>This module exports a single class whose type is</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nx">HDKey</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">static</span> <span class="nx">HARDENED_OFFSET</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">static</span> <span class="nx">fromMasterSeed</span><span class="p">(</span><span class="nx">seed</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">versions</span>: <span class="kt">Versions</span><span class="p">)</span><span class="o">:</span> <span class="nx">HDKey</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">static</span> <span class="nx">fromExtendedKey</span><span class="p">(</span><span class="nx">base58key</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">versions</span>: <span class="kt">Versions</span><span class="p">)</span><span class="o">:</span> <span class="nx">HDKey</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">static</span> <span class="nx">fromJSON</span><span class="p">(</span><span class="nx">json</span><span class="o">:</span> <span class="p">{</span> <span class="nx">xpriv</span>: <span class="kt">string</span> <span class="p">})</span><span class="o">:</span> <span class="nx">HDKey</span><span class="p">;</span>

  <span class="k">public</span> <span class="nx">versions</span>: <span class="kt">Versions</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">depth</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">index</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">chainCode</span>: <span class="kt">Buffer</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">privateKey</span>: <span class="kt">Buffer</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">publicKey</span>: <span class="kt">Buffer</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">fingerprint</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">parentFingerprint</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">pubKeyHash</span>: <span class="kt">Buffer</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">identifier</span>: <span class="kt">Buffer</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">privateExtendedKey</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">publicExtendedKey</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="k">private</span> <span class="kr">constructor</span><span class="p">(</span><span class="nx">versios</span>: <span class="kt">Versions</span><span class="p">);</span>
  <span class="k">public</span> <span class="nx">derive</span><span class="p">(</span><span class="nx">path</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">HDKey</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">deriveChild</span><span class="p">(</span><span class="nx">index</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">HDKey</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">sign</span><span class="p">(</span><span class="nx">hash</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">verify</span><span class="p">(</span><span class="nx">hash</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">signature</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">wipePrivateData</span><span class="p">()</span><span class="o">:</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">toJSON</span><span class="p">()</span><span class="o">:</span> <span class="p">{</span> <span class="nx">xpriv</span>: <span class="kt">string</span><span class="p">;</span> <span class="nx">xpub</span>: <span class="kt">string</span> <span class="p">};</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nx">Versions</span> <span class="p">{</span>
  <span class="k">private</span><span class="o">:</span> <span class="kt">number</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span> <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h3>Example usage<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">HDKey</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/hdkey&quot;</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">seed</span> <span class="o">=</span> <span class="s2">&quot;fffcf9f6f3f0edeae7e4e1dedbd8d5d2cfccc9c6c3c0bdbab7b4b1aeaba8a5a29f9c999693908d8a8784817e7b7875726f6c696663605d5a5754514e4b484542&quot;</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">hdkey</span> <span class="o">=</span> <span class="nx">HDKey</span><span class="p">.</span><span class="nx">fromMasterSeed</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">seed</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">));</span>
<span class="kd">const</span> <span class="nx">childkey</span> <span class="o">=</span> <span class="nx">hdkey</span><span class="p">.</span><span class="nx">derive</span><span class="p">(</span><span class="s2">&quot;m/0/2147483647&#39;/1&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">childkey</span><span class="p">.</span><span class="nx">privateExtendedKey</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="seed-recovery-phrases">
<h2>Seed recovery phrases<a class="headerlink" href="#seed-recovery-phrases" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">bip39</span></code> submodule provides functions to generate, validate and use seed
recovery phrases according to <a class="reference external" href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki">BIP39</a>.</p>
<div class="section" id="id20">
<h3>Function types<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">generateMnemonic</span><span class="p">(</span><span class="nx">wordlist</span>: <span class="kt">string</span><span class="p">[],</span> <span class="nx">strength</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mf">128</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">mnemonicToEntropy</span><span class="p">(</span><span class="nx">mnemonic</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">wordlist</span>: <span class="kt">string</span><span class="p">[])</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">entropyToMnemonic</span><span class="p">(</span><span class="nx">entropy</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">wordlist</span>: <span class="kt">string</span><span class="p">[])</span><span class="o">:</span> <span class="kt">string</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">validateMnemonic</span><span class="p">(</span><span class="nx">mnemonic</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">wordlist</span>: <span class="kt">string</span><span class="p">[])</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">mnemonicToSeed</span><span class="p">(</span><span class="nx">mnemonic</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">passphrase</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">mnemonicToSeedSync</span><span class="p">(</span><span class="nx">mnemonic</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">passphrase</span>: <span class="kt">string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span> <span class="nx">Buffer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="word-lists">
<h3>Word lists<a class="headerlink" href="#word-lists" title="Permalink to this headline">¶</a></h3>
<p>This submodule also contains the word lists defined by BIP39 for Czech, English,
French, Italian, Japanese, Korean, Simplified and Traditional Chinese, and
Spanish. These are not imported by default, as that would increase bundle sizes
too much. Instead, you should import and use them explicitly.</p>
<p>The word lists are exported as a <code class="docutils literal notranslate"><span class="pre">wordlist</span></code> variable in each of these submodules:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/czech.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/english.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/french.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/italian.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/japanese.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/korean.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/simplified-chinese.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/spanish.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography/bip39/wordlists/traditional-chinese.js</span></code></p></li>
</ul>
</div>
<div class="section" id="id21">
<h3>Example usage<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">{</span> <span class="nx">generateMnemonic</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/bip39&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">wordlist</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;ethereum-cryptography/bip39/wordlists/english&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">generateMnemonic</span><span class="p">(</span><span class="nx">wordlist</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="browser-usage">
<h2>Browser usage<a class="headerlink" href="#browser-usage" title="Permalink to this headline">¶</a></h2>
<p>This package works with all the major Javascript bundlers. It is
tested with <code class="docutils literal notranslate"><span class="pre">webpack</span></code>, <code class="docutils literal notranslate"><span class="pre">Rollup</span></code>, <code class="docutils literal notranslate"><span class="pre">Parcel</span></code>, and <code class="docutils literal notranslate"><span class="pre">Browserify</span></code>.</p>
<div class="section" id="rollup-setup">
<h3>Rollup setup<a class="headerlink" href="#rollup-setup" title="Permalink to this headline">¶</a></h3>
<p>Using this library with Rollup requires the following plugins:</p>
<p><a class="reference external" href="https://www.npmjs.com/package/&#64;rollup/plugin-commonjs"><code class="docutils literal notranslate"><span class="pre">&#64;rollup/plugin-commonjs</span></code></a>
<a class="reference external" href="https://www.npmjs.com/package/&#64;rollup/plugin-json"><code class="docutils literal notranslate"><span class="pre">&#64;rollup/plugin-json</span></code></a>
<a class="reference external" href="https://www.npmjs.com/package/&#64;rollup/plugin-node-resolve"><code class="docutils literal notranslate"><span class="pre">&#64;rollup/plugin-node-resolve</span></code></a>
<a class="reference external" href="https://www.npmjs.com/package/rollup-plugin-node-builtins"><code class="docutils literal notranslate"><span class="pre">rollup-plugin-node-builtins</span></code></a>
<a class="reference external" href="https://www.npmjs.com/package/rollup-plugin-node-globals"><code class="docutils literal notranslate"><span class="pre">rollup-plugin-node-globals</span></code></a></p>
<p>These can be used by setting your <code class="docutils literal notranslate"><span class="pre">plugins</span></code> array like this:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span>  <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">commonjs</span><span class="p">(),</span>
    <span class="nx">json</span><span class="p">(),</span>
    <span class="nx">nodeGlobals</span><span class="p">(),</span>
    <span class="nx">nodeBuiltins</span><span class="p">(),</span>
    <span class="nx">resolve</span><span class="p">({</span>
      <span class="nx">browser</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">preferBuiltins</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="p">}),</span>
  <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="missing-cryptographic-primitives">
<h2>Missing cryptographic primitives<a class="headerlink" href="#missing-cryptographic-primitives" title="Permalink to this headline">¶</a></h2>
<p>This package intentionally excludes the the cryptographic primitives necessary
to implement the following EIPs:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://eips.ethereum.org/EIPS/eip-196">EIP 196: Precompiled contracts for addition and scalar multiplication on the elliptic curve alt_bn128</a></p></li>
<li><p><a class="reference external" href="https://eips.ethereum.org/EIPS/eip-197">EIP 197: Precompiled contracts for optimal ate pairing check on the elliptic curve alt_bn128</a></p></li>
<li><p><a class="reference external" href="https://eips.ethereum.org/EIPS/eip-198">EIP 198: Big integer modular exponentiation</a></p></li>
<li><p><a class="reference external" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-152.md">EIP 152: Add Blake2 compression function <code class="docutils literal notranslate"><span class="pre">F</span></code> precompile</a></p></li>
</ul>
<p>Feel free to open an issue if you want this decision to be reconsidered, or if
you found another primitive that is missing.</p>
</div>
<div class="section" id="security-audit">
<h2>Security audit<a class="headerlink" href="#security-audit" title="Permalink to this headline">¶</a></h2>
<p>This library has been audited by <a class="reference external" href="https://www.trailofbits.com/">Trail of Bits</a>.
You can see the results of the audit and the changes implemented as a result of
it in <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">audit/</span></code></span>.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ethereum-cryptography</span></code> is released under <span class="xref myst">the MIT License</span>.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./nbs/z-repo_Solidity/Faucet/node_modules/ethereum-cryptography"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Dave Friedman<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>