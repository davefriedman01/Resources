
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LevelUP &#8212; Mathematics</title>
    
  <link href="../../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../index.html">
      
      <img src="../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Mathematics</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../README.html">
   Mathematics
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Sets.html">
   Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../NumberTheory.html">
   Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../AlgorithmicNumberTheory.html">
   Algorithmic Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../ModularArithmetic.html">
   Modular Arithmetic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Polynomials.html">
   Polynomials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Structures.html">
   Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Groups.html">
   Groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Fields.html">
   Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../mathematical_foundations.html">
   Imports
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modeling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../RandomWalks.html">
   Random Walks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DigitalSignalProcessing.html">
   Digital Signal Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DifferentialEquations.html">
   Differential Equations
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Blockchain
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../PythonBlockchain.html">
   Python Blockchain
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../_sources/nbs/z-repo_Solidity/Faucet/node_modules/levelup/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/davefriedman01/Resources"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/davefriedman01/Resources/issues/new?title=Issue%20on%20page%20%2Fnbs/z-repo_Solidity/Faucet/node_modules/levelup/README.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-intro-a-introduction">
   <a name="intro">
   </a>
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-leveldown-a-relationship-to-leveldown">
   <a name="leveldown">
   </a>
   Relationship to LevelDOWN
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-platforms-a-tested-supported-platforms">
   <a name="platforms">
   </a>
   Tested &amp; supported platforms
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-basic-a-basic-usage">
   <a name="basic">
   </a>
   Basic usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#special-operations-exposed-by-leveldown">
     Special operations exposed by LevelDOWN
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#special-notes">
     Special Notes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#levelup-location-options-callback">
     levelup(location[, options[, callback]])
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#levelup-options-callback">
     levelup(options[, callback ])
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#levelup-db-callback">
     levelup(db[, callback ])
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options">
       <code class="docutils literal notranslate">
        <span class="pre">
         options
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-open-callback">
     db.open([callback])
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-close-callback">
     db.close([callback])
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-put-key-value-options-callback">
     db.put(key, value[, options][, callback])
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       <code class="docutils literal notranslate">
        <span class="pre">
         options
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-get-key-options-callback">
     db.get(key[, options][, callback])
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       <code class="docutils literal notranslate">
        <span class="pre">
         options
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-del-key-options-callback">
     db.del(key[, options][, callback])
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       <code class="docutils literal notranslate">
        <span class="pre">
         options
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-batch-array-options-callback-array-form">
     db.batch(array[, options][, callback])
     <em>
      (array form)
     </em>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id4">
       <code class="docutils literal notranslate">
        <span class="pre">
         options
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-batch-chained-form">
     db.batch()
     <em>
      (chained form)
     </em>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-isopen">
     db.isOpen()
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-isclosed">
     db.isClosed()
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-createreadstream-options">
     db.createReadStream([options])
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-createkeystream-options">
     db.createKeyStream([options])
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-createvaluestream-options">
     db.createValueStream([options])
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#what-happened-to-db-createwritestream">
       What happened to
       <code class="docutils literal notranslate">
        <span class="pre">
         db.createWriteStream
        </span>
       </code>
       ?
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-db-approximatesize-start-end-callback">
     db.db.approximateSize(start, end, callback)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#db-db-getproperty-property">
     db.db.getProperty(property)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#leveldown-destroy-location-callback">
     leveldown.destroy(location, callback)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#leveldown-repair-location-callback">
     leveldown.repair(location, callback)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-events-a-events">
   <a name="events">
   </a>
   Events
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-json-a-json-data">
   <a name="json">
   </a>
   JSON data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-custom-encodings-a-custom-encodings">
   <a name="custom_encodings">
   </a>
   Custom encodings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-extending-a-extending-levelup">
   <a name="extending">
   </a>
   Extending LevelUP
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-multiproc-a-multi-process-access">
   <a name="multiproc">
   </a>
   Multi-process access
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-support-a-getting-support">
   <a name="support">
   </a>
   Getting support
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-contributing-a-contributing">
   <a name="contributing">
   </a>
   Contributing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#windows">
     Windows
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-name-license-a-license-copyright">
   <a name="license">
   </a>
   License &amp; copyright
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="levelup">
<h1>LevelUP<a class="headerlink" href="#levelup" title="Permalink to this headline">¶</a></h1>
<img alt="LevelDB Logo" height="100" src="http://leveldb.org/img/logo.svg">
<p><strong>Fast &amp; simple storage - a Node.js-style LevelDB wrapper</strong></p>
<p><a class="reference external" href="http://travis-ci.org/Level/levelup"><img alt="Build Status" src="https://secure.travis-ci.org/Level/levelup.svg?branch=master" /></a>
<a class="reference external" href="https://david-dm.org/level/levelup"><img alt="dependencies" src="https://david-dm.org/Level/levelup.svg" /></a></p>
<p><a class="reference external" href="https://nodei.co/npm/levelup/"><img alt="NPM" src="https://nodei.co/npm/levelup.png?stars&amp;downloads&amp;downloadRank" /></a> <a class="reference external" href="https://nodei.co/npm/levelup/"><img alt="NPM" src="https://nodei.co/npm-dl/levelup.png?months=6&amp;height=3" /></a></p>
<ul class="simple">
<li><p><a href="#intro">Introduction</a></p></li>
<li><p><a href="#leveldown">Relationship to LevelDOWN</a></p></li>
<li><p><a href="#platforms">Tested &amp; supported platforms</a></p></li>
<li><p><a href="#basic">Basic usage</a></p></li>
<li><p><a href="#api">API</a></p></li>
<li><p><a href="#events">Events</a></p></li>
<li><p><a href="#json">JSON data</a></p></li>
<li><p><a href="#custom_encodings">Custom encodings</a></p></li>
<li><p><a href="#extending">Extending LevelUP</a></p></li>
<li><p><a href="#multiproc">Multi-process access</a></p></li>
<li><p><a href="#support">Getting support</a></p></li>
<li><p><a href="#contributing">Contributing</a></p></li>
<li><p><a href="#license">Licence &amp; copyright</a></p></li>
</ul>
<div class="section" id="a-name-intro-a-introduction">
<h2><a name="intro"></a>
Introduction<a class="headerlink" href="#a-name-intro-a-introduction" title="Permalink to this headline">¶</a></h2>
<p><strong><a class="reference external" href="https://github.com/google/leveldb">LevelDB</a></strong> is a simple key/value data store built by Google, inspired by BigTable. It’s used in Google Chrome and many other products. LevelDB supports arbitrary byte arrays as both keys and values, singular <em>get</em>, <em>put</em> and <em>delete</em> operations, <em>batched put and delete</em>, bi-directional iterators and simple compression using the very fast <a class="reference external" href="http://google.github.io/snappy/">Snappy</a> algorithm.</p>
<p><strong>LevelUP</strong> aims to expose the features of LevelDB in a <strong>Node.js-friendly way</strong>. All standard <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> encoding types are supported, as is a special JSON encoding. LevelDB’s iterators are exposed as a Node.js-style <strong>readable stream</strong>.</p>
<p>LevelDB stores entries <strong>sorted lexicographically by keys</strong>. This makes LevelUP’s <a href="#createReadStream"><code>ReadStream</code></a> interface a very powerful query mechanism.</p>
<p><strong>LevelUP</strong> is an <strong>OPEN Open Source Project</strong>, see the <a href="#contributing">Contributing</a> section to find out what this means.</p>
</div>
<div class="section" id="a-name-leveldown-a-relationship-to-leveldown">
<h2><a name="leveldown"></a>
Relationship to LevelDOWN<a class="headerlink" href="#a-name-leveldown-a-relationship-to-leveldown" title="Permalink to this headline">¶</a></h2>
<p>LevelUP is designed to be backed by <strong><a class="reference external" href="https://github.com/level/leveldown/">LevelDOWN</a></strong> which provides a pure C++ binding to LevelDB and can be used as a stand-alone package if required.</p>
<p><strong>As of version 0.9, LevelUP no longer requires LevelDOWN as a dependency so you must <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">leveldown</span></code> when you install LevelUP.</strong></p>
<p>LevelDOWN is now optional because LevelUP can be used with alternative backends, such as <strong><a class="reference external" href="https://github.com/maxogden/level.js">level.js</a></strong> in the browser or <a class="reference external" href="https://github.com/level/memdown">MemDOWN</a> for a pure in-memory store.</p>
<p>LevelUP will look for LevelDOWN and throw an error if it can’t find it in its Node <code class="docutils literal notranslate"><span class="pre">require()</span></code> path. It will also tell you if the installed version of LevelDOWN is incompatible.</p>
<p><strong>The <a class="reference external" href="https://github.com/level/level">level</a> package is available as an alternative installation mechanism.</strong> Install it instead to automatically get both LevelUP &amp; LevelDOWN. It exposes LevelUP on its export (i.e. you can <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">leveldb</span> <span class="pre">=</span> <span class="pre">require('level')</span></code>).</p>
</div>
<div class="section" id="a-name-platforms-a-tested-supported-platforms">
<h2><a name="platforms"></a>
Tested &amp; supported platforms<a class="headerlink" href="#a-name-platforms-a-tested-supported-platforms" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Linux</strong>: including ARM platforms such as Raspberry Pi <em>and Kindle!</em></p></li>
<li><p><strong>Mac OS</strong></p></li>
<li><p><strong>Solaris</strong>: including Joyent’s SmartOS &amp; Nodejitsu</p></li>
<li><p><strong>Windows</strong>: Node 0.10 and above only. See installation instructions for <em>node-gyp’s</em> dependencies <a class="reference external" href="https://github.com/TooTallNate/node-gyp#installation">here</a>, you’ll need these (free) components from Microsoft to compile and run any native Node add-on in Windows.</p></li>
</ul>
</div>
<div class="section" id="a-name-basic-a-basic-usage">
<h2><a name="basic"></a>
Basic usage<a class="headerlink" href="#a-name-basic-a-basic-usage" title="Permalink to this headline">¶</a></h2>
<p>First you need to install LevelUP!</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ npm install levelup leveldown
</pre></div>
</div>
<p>Or</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ npm install level
</pre></div>
</div>
<p><em>(this second option requires you to use LevelUP by calling <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">levelup</span> <span class="pre">=</span> <span class="pre">require('level')</span></code>)</em></p>
<p>All operations are asynchronous although they don’t necessarily require a callback if you don’t need to know when the operation was performed.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">levelup</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;levelup&#39;</span><span class="p">)</span>

<span class="c1">// 1) Create our database, supply location and options.</span>
<span class="c1">//    This will create or open the underlying LevelDB store.</span>
<span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">levelup</span><span class="p">(</span><span class="s1">&#39;./mydb&#39;</span><span class="p">)</span>

<span class="c1">// 2) put a key &amp; value</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;LevelUP&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Ooops!&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="c1">// some kind of I/O error</span>

  <span class="c1">// 3) fetch by key</span>
  <span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Ooops!&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="c1">// likely the key was not found</span>

    <span class="c1">// ta da!</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;name=&#39;</span> <span class="o">+</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>
</pre></div>
</div>
<p><a name="api"></a></p>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a href="#ctor"><code><b>levelup()</b></code></a></p></li>
<li><p><a href="#open"><code>db.<b>open()</b></code></a></p></li>
<li><p><a href="#close"><code>db.<b>close()</b></code></a></p></li>
<li><p><a href="#put"><code>db.<b>put()</b></code></a></p></li>
<li><p><a href="#get"><code>db.<b>get()</b></code></a></p></li>
<li><p><a href="#del"><code>db.<b>del()</b></code></a></p></li>
<li><p><a href="#batch"><code>db.<b>batch()</b></code> <em>(array form)</em></a></p></li>
<li><p><a href="#batch_chained"><code>db.<b>batch()</b></code> <em>(chained form)</em></a></p></li>
<li><p><a href="#isOpen"><code>db.<b>isOpen()</b></code></a></p></li>
<li><p><a href="#isClosed"><code>db.<b>isClosed()</b></code></a></p></li>
<li><p><a href="#createReadStream"><code>db.<b>createReadStream()</b></code></a></p></li>
<li><p><a href="#createKeyStream"><code>db.<b>createKeyStream()</b></code></a></p></li>
<li><p><a href="#createValueStream"><code>db.<b>createValueStream()</b></code></a></p></li>
</ul>
<div class="section" id="special-operations-exposed-by-leveldown">
<h3>Special operations exposed by LevelDOWN<a class="headerlink" href="#special-operations-exposed-by-leveldown" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a href="#approximateSize"><code>db.db.<b>approximateSize()</b></code></a></p></li>
<li><p><a href="#getProperty"><code>db.db.<b>getProperty()</b></code></a></p></li>
<li><p><a href="#destroy"><code><b>leveldown.destroy()</b></code></a></p></li>
<li><p><a href="#repair"><code><b>leveldown.repair()</b></code></a></p></li>
</ul>
</div>
<div class="section" id="special-notes">
<h3>Special Notes<a class="headerlink" href="#special-notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a href="#writeStreams">What happened to <code><b>db.createWriteStream()</b></code></a></p></li>
</ul>
<hr class="docutils" />
<p><a name="ctor"></a></p>
</div>
<div class="section" id="levelup-location-options-callback">
<h3>levelup(location[, options[, callback]])<a class="headerlink" href="#levelup-location-options-callback" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="levelup-options-callback">
<h3>levelup(options[, callback ])<a class="headerlink" href="#levelup-options-callback" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="levelup-db-callback">
<h3>levelup(db[, callback ])<a class="headerlink" href="#levelup-db-callback" title="Permalink to this headline">¶</a></h3>
<p><code>levelup()</code> is the main entry point for creating a new LevelUP instance and opening the underlying store with LevelDB.</p>
<p>This function returns a new instance of LevelUP and will also initiate an <a href="#open"><code>open()</code></a> operation. Opening the database is an asynchronous operation which will trigger your callback if you provide one. The callback should take the form: <code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">(err,</span> <span class="pre">db)</span> <span class="pre">{}</span></code> where the <code class="docutils literal notranslate"><span class="pre">db</span></code> is the LevelUP instance. If you don’t provide a callback, any read &amp; write operations are simply queued internally until the database is fully opened.</p>
<p>This leads to two alternative ways of managing a new LevelUP instance:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">levelup</span><span class="p">(</span><span class="nx">location</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">err</span>
  <span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;foo does not exist&#39;</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;got foo =&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>

<span class="c1">// vs the equivalent:</span>

<span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">levelup</span><span class="p">(</span><span class="nx">location</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="c1">// will throw if an error occurs</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;foo does not exist&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;got foo =&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">location</span></code> argument is available as a read-only property on the returned LevelUP instance.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">levelup(options,</span> <span class="pre">callback)</span></code> form (with optional <code class="docutils literal notranslate"><span class="pre">callback</span></code>) is only available where you provide a valid <code class="docutils literal notranslate"><span class="pre">'db'</span></code> property on the options object (see below). Only for back-ends that don’t require a <code class="docutils literal notranslate"><span class="pre">location</span></code> argument, such as <a class="reference external" href="https://github.com/level/memdown">MemDOWN</a>.</p>
<p>For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">levelup</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;levelup&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">memdown</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;memdown&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">levelup</span><span class="p">({</span> <span class="nx">db</span><span class="o">:</span> <span class="nx">memdown</span> <span class="p">})</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">levelup(db,</span> <span class="pre">callback)</span></code> form (with optional <code class="docutils literal notranslate"><span class="pre">callback</span></code>) is only available where <code class="docutils literal notranslate"><span class="pre">db</span></code> is a factory function, as would be provided as a <code class="docutils literal notranslate"><span class="pre">'db'</span></code> property on an <code class="docutils literal notranslate"><span class="pre">options</span></code> object (see below). Only for back-ends that don’t require a <code class="docutils literal notranslate"><span class="pre">location</span></code> argument, such as <a class="reference external" href="https://github.com/level/memdown">MemDOWN</a>.</p>
<p>For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">levelup</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;levelup&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">memdown</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;memdown&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">levelup</span><span class="p">(</span><span class="nx">memdown</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="options">
<h4><code class="docutils literal notranslate"><span class="pre">options</span></code><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">levelup()</span></code> takes an optional options object as its second argument; the following properties are accepted:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'createIfMissing'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</em>: If <code class="docutils literal notranslate"><span class="pre">true</span></code>, will initialise an empty database at the specified location if one doesn’t already exist. If <code class="docutils literal notranslate"><span class="pre">false</span></code> and a database doesn’t exist you will receive an error in your <code class="docutils literal notranslate"><span class="pre">open()</span></code> callback and your database won’t open.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'errorIfExists'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</em>: If <code class="docutils literal notranslate"><span class="pre">true</span></code>, you will receive an error in your <code class="docutils literal notranslate"><span class="pre">open()</span></code> callback if the database exists at the specified location.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'compression'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</em>: If <code class="docutils literal notranslate"><span class="pre">true</span></code>, all <em>compressible</em> data will be run through the Snappy compression algorithm before being stored. Snappy is very fast and shouldn’t gain much speed by disabling so leave this on unless you have good reason to turn it off.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'cacheSize'</span></code> <em>(number, default: <code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">*</span> <span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span></code>)</em>: The size (in bytes) of the in-memory <a class="reference external" href="http://en.wikipedia.org/wiki/Cache_algorithms#Least_Recently_Used">LRU</a> cache with frequently used uncompressed block contents.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> and <code class="docutils literal notranslate"><span class="pre">'valueEncoding'</span></code> <em>(string, default: <code class="docutils literal notranslate"><span class="pre">'utf8'</span></code>)</em>: The encoding of the keys and values passed through Node.js’ <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> implementation (see <a class="reference external" href="http://nodejs.org/docs/latest/api/buffer.html#buffer_buf_tostring_encoding_start_end">Buffer#toString()</a>).</p>
<p><code>'utf8'</code> is the default encoding for both keys and values so you can simply pass in strings and expect strings from your <code>get()</code> operations. You can also pass <code>Buffer</code> objects as keys and/or values and conversion will be performed.</p>
<p>Supported encodings are: hex, utf8, ascii, binary, base64, ucs2, utf16le.</p>
<p><code>'json'</code> encoding is also supported, see below.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'db'</span></code> <em>(object, default: LevelDOWN)</em>: LevelUP is backed by <a class="reference external" href="https://github.com/level/leveldown/">LevelDOWN</a> to provide an interface to LevelDB. You can completely replace the use of LevelDOWN by providing a “factory” function that will return a LevelDOWN API compatible object given a <code class="docutils literal notranslate"><span class="pre">location</span></code> argument. For further information, see <a class="reference external" href="https://github.com/level/memdown">MemDOWN</a>, a fully LevelDOWN API compatible replacement that uses a memory store rather than LevelDB. Also see <a class="reference external" href="http://github.com/level/abstract-leveldown">Abstract LevelDOWN</a>, a partial implementation of the LevelDOWN API that can be used as a base prototype for a LevelDOWN substitute.</p></li>
</ul>
<p>Additionally, each of the main interface methods accept an optional options object that can be used to override <code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> and <code class="docutils literal notranslate"><span class="pre">'valueEncoding'</span></code>.</p>
<hr class="docutils" />
<p><a name="open"></a></p>
</div>
</div>
<div class="section" id="db-open-callback">
<h3>db.open([callback])<a class="headerlink" href="#db-open-callback" title="Permalink to this headline">¶</a></h3>
<p><code>open()</code> opens the underlying LevelDB store. In general <strong>you should never need to call this method directly</strong> as it’s automatically called by <a href="#ctor"><code>levelup()</code></a>.</p>
<p>However, it is possible to <em>reopen</em> a database after it has been closed with <a href="#close"><code>close()</code></a>, although this is not generally advised.</p>
<hr class="docutils" />
<p><a name="close"></a></p>
</div>
<div class="section" id="db-close-callback">
<h3>db.close([callback])<a class="headerlink" href="#db-close-callback" title="Permalink to this headline">¶</a></h3>
<p><code>close()</code> closes the underlying LevelDB store. The callback will receive any error encountered during closing as the first argument.</p>
<p>You should always clean up your LevelUP instance by calling <code class="docutils literal notranslate"><span class="pre">close()</span></code> when you no longer need it to free up resources. A LevelDB store cannot be opened by multiple instances of LevelDB/LevelUP simultaneously.</p>
<hr class="docutils" />
<p><a name="put"></a></p>
</div>
<div class="section" id="db-put-key-value-options-callback">
<h3>db.put(key, value[, options][, callback])<a class="headerlink" href="#db-put-key-value-options-callback" title="Permalink to this headline">¶</a></h3>
<p><code>put()</code> is the primary method for inserting data into the store. Both the <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> can be arbitrary data objects.</p>
<p>The callback argument is optional but if you don’t provide one and an error occurs then expect the error to be thrown.</p>
<div class="section" id="id1">
<h4><code class="docutils literal notranslate"><span class="pre">options</span></code><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Encoding of the <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> objects will adhere to <code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> and <code class="docutils literal notranslate"><span class="pre">'valueEncoding'</span></code> options provided to <a href="#ctor"><code>levelup()</code></a>, although you can provide alternative encoding settings in the options for <code class="docutils literal notranslate"><span class="pre">put()</span></code> (it’s recommended that you stay consistent in your encoding of keys and values in a single store).</p>
<p>If you provide a <code class="docutils literal notranslate"><span class="pre">'sync'</span></code> value of <code class="docutils literal notranslate"><span class="pre">true</span></code> in your <code class="docutils literal notranslate"><span class="pre">options</span></code> object, LevelDB will perform a synchronous write of the data; although the operation will be asynchronous as far as Node is concerned. Normally, LevelDB passes the data to the operating system for writing and returns immediately, however a synchronous write will use <code class="docutils literal notranslate"><span class="pre">fsync()</span></code> or equivalent so your callback won’t be triggered until the data is actually on disk. Synchronous filesystem writes are <strong>significantly</strong> slower than asynchronous writes but if you want to be absolutely sure that the data is flushed then you can use <code class="docutils literal notranslate"><span class="pre">'sync':</span> <span class="pre">true</span></code>.</p>
<hr class="docutils" />
<p><a name="get"></a></p>
</div>
</div>
<div class="section" id="db-get-key-options-callback">
<h3>db.get(key[, options][, callback])<a class="headerlink" href="#db-get-key-options-callback" title="Permalink to this headline">¶</a></h3>
<p><code>get()</code> is the primary method for fetching data from the store. The <code class="docutils literal notranslate"><span class="pre">key</span></code> can be an arbitrary data object. If it doesn’t exist in the store then the callback will receive an error as its first argument. A not-found err object will be of type <code class="docutils literal notranslate"><span class="pre">'NotFoundError'</span></code> so you can <code class="docutils literal notranslate"><span class="pre">err.type</span> <span class="pre">==</span> <span class="pre">'NotFoundError'</span></code> or you can perform a truthy test on the property <code class="docutils literal notranslate"><span class="pre">err.notFound</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">notFound</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// handle a &#39;NotFoundError&#39; here</span>
      <span class="k">return</span>
    <span class="p">}</span>
    <span class="c1">// I/O or other error, pass it up the callback chain</span>
    <span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// .. handle `value` here</span>
<span class="p">})</span>
</pre></div>
</div>
<div class="section" id="id2">
<h4><code class="docutils literal notranslate"><span class="pre">options</span></code><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>Encoding of the <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> objects is the same as in <a href="#put"><code>put</code></a>.</p>
<p>LevelDB will by default fill the in-memory LRU Cache with data from a call to get. Disabling this is done by setting <code class="docutils literal notranslate"><span class="pre">fillCache</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<hr class="docutils" />
<p><a name="del"></a></p>
</div>
</div>
<div class="section" id="db-del-key-options-callback">
<h3>db.del(key[, options][, callback])<a class="headerlink" href="#db-del-key-options-callback" title="Permalink to this headline">¶</a></h3>
<p><code>del()</code> is the primary method for removing data from the store.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="c1">// handle I/O or other error</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="section" id="id3">
<h4><code class="docutils literal notranslate"><span class="pre">options</span></code><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>Encoding of the <code class="docutils literal notranslate"><span class="pre">key</span></code> object will adhere to the <code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> option provided to <a href="#ctor"><code>levelup()</code></a>, although you can provide alternative encoding settings in the options for <code class="docutils literal notranslate"><span class="pre">del()</span></code> (it’s recommended that you stay consistent in your encoding of keys and values in a single store).</p>
<p>A <code class="docutils literal notranslate"><span class="pre">'sync'</span></code> option can also be passed, see <a href="#put"><code>put()</code></a> for details on how this works.</p>
<hr class="docutils" />
<p><a name="batch"></a></p>
</div>
</div>
<div class="section" id="db-batch-array-options-callback-array-form">
<h3>db.batch(array[, options][, callback]) <em>(array form)</em><a class="headerlink" href="#db-batch-array-options-callback-array-form" title="Permalink to this headline">¶</a></h3>
<p><code>batch()</code> can be used for very fast bulk-write operations (both <em>put</em> and <em>delete</em>). The <code class="docutils literal notranslate"><span class="pre">array</span></code> argument should contain a list of operations to be executed sequentially, although as a whole they are performed as an atomic operation inside LevelDB.</p>
<p>Each operation is contained in an object having the following properties: <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">key</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code>, where the <em>type</em> is either <code class="docutils literal notranslate"><span class="pre">'put'</span></code> or <code class="docutils literal notranslate"><span class="pre">'del'</span></code>. In the case of <code class="docutils literal notranslate"><span class="pre">'del'</span></code> the <code class="docutils literal notranslate"><span class="pre">'value'</span></code> property is ignored. Any entries with a <code class="docutils literal notranslate"><span class="pre">'key'</span></code> of <code class="docutils literal notranslate"><span class="pre">null</span></code> or <code class="docutils literal notranslate"><span class="pre">undefined</span></code> will cause an error to be returned on the <code class="docutils literal notranslate"><span class="pre">callback</span></code> and any <code class="docutils literal notranslate"><span class="pre">'type':</span> <span class="pre">'put'</span></code> entry with a <code class="docutils literal notranslate"><span class="pre">'value'</span></code> of <code class="docutils literal notranslate"><span class="pre">null</span></code> or <code class="docutils literal notranslate"><span class="pre">undefined</span></code> will return an error.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> are defined but <code class="docutils literal notranslate"><span class="pre">type</span></code> is not, it will default to <code class="docutils literal notranslate"><span class="pre">'put'</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ops</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;del&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;father&#39;</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;put&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;Yuri Irsenovich Kim&#39;</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;put&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;16 February 1941&#39;</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;put&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;spouse&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;Kim Young-sook&#39;</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;put&#39;</span><span class="p">,</span> <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;Clown&#39;</span> <span class="p">}</span>
<span class="p">]</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">batch</span><span class="p">(</span><span class="nx">ops</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Ooops!&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Great success dear leader!&#39;</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<div class="section" id="id4">
<h4><code class="docutils literal notranslate"><span class="pre">options</span></code><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>See <a href="#put"><code>put()</code></a> for a discussion on the <code class="docutils literal notranslate"><span class="pre">options</span></code> object. You can overwrite default <code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> and <code class="docutils literal notranslate"><span class="pre">'valueEncoding'</span></code> and also specify the use of <code class="docutils literal notranslate"><span class="pre">sync</span></code> filesystem operations.</p>
<p>In addition to encoding options for the whole batch you can also overwrite the encoding per operation, like:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ops</span> <span class="o">=</span> <span class="p">[{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;put&#39;</span><span class="p">,</span>
  <span class="nx">key</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">]),</span>
  <span class="nx">value</span><span class="o">:</span> <span class="p">{</span> <span class="nx">some</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span> <span class="p">},</span>
  <span class="nx">keyEncoding</span><span class="o">:</span> <span class="s1">&#39;binary&#39;</span><span class="p">,</span>
  <span class="nx">valueEncoding</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span>
<span class="p">}]</span>
</pre></div>
</div>
<hr class="docutils" />
<p><a name="batch_chained"></a></p>
</div>
</div>
<div class="section" id="db-batch-chained-form">
<h3>db.batch() <em>(chained form)</em><a class="headerlink" href="#db-batch-chained-form" title="Permalink to this headline">¶</a></h3>
<p><code>batch()</code>, when called with no arguments will return a <code class="docutils literal notranslate"><span class="pre">Batch</span></code> object which can be used to build, and eventually commit, an atomic LevelDB batch operation. Depending on how it’s used, it is possible to obtain greater performance when using the chained form of <code class="docutils literal notranslate"><span class="pre">batch()</span></code> over the array form.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">batch</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">del</span><span class="p">(</span><span class="s1">&#39;father&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;Yuri Irsenovich Kim&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="s1">&#39;16 February 1941&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s1">&#39;spouse&#39;</span><span class="p">,</span> <span class="s1">&#39;Kim Young-sook&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;Clown&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Done!&#39;</span><span class="p">)</span> <span class="p">})</span>
</pre></div>
</div>
<p><b><code>batch.put(key, value[, options])</code></b></p>
<p>Queue a <em>put</em> operation on the current batch, not committed until a <code class="docutils literal notranslate"><span class="pre">write()</span></code> is called on the batch.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">options</span></code> argument can be used to override the default <code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> and/or <code class="docutils literal notranslate"><span class="pre">'valueEncoding'</span></code>.</p>
<p>This method may <code class="docutils literal notranslate"><span class="pre">throw</span></code> a <code class="docutils literal notranslate"><span class="pre">WriteError</span></code> if there is a problem with your put (such as the <code class="docutils literal notranslate"><span class="pre">value</span></code> being <code class="docutils literal notranslate"><span class="pre">null</span></code> or <code class="docutils literal notranslate"><span class="pre">undefined</span></code>).</p>
<p><b><code>batch.del(key[, options])</code></b></p>
<p>Queue a <em>del</em> operation on the current batch, not committed until a <code class="docutils literal notranslate"><span class="pre">write()</span></code> is called on the batch.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">options</span></code> argument can be used to override the default <code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code>.</p>
<p>This method may <code class="docutils literal notranslate"><span class="pre">throw</span></code> a <code class="docutils literal notranslate"><span class="pre">WriteError</span></code> if there is a problem with your delete.</p>
<p><b><code>batch.clear()</code></b></p>
<p>Clear all queued operations on the current batch, any previous operations will be discarded.</p>
<p><b><code>batch.length</code></b></p>
<p>The number of queued operations on the current batch.</p>
<p><b><code>batch.write([callback])</code></b></p>
<p>Commit the queued operations for this batch. All operations not <em>cleared</em> will be written to the database atomically, that is, they will either all succeed or fail with no partial commits. The optional <code class="docutils literal notranslate"><span class="pre">callback</span></code> will be called when the operation has completed with an <em>error</em> argument if an error has occurred; if no <code class="docutils literal notranslate"><span class="pre">callback</span></code> is supplied and an error occurs then this method will <code class="docutils literal notranslate"><span class="pre">throw</span></code> a <code class="docutils literal notranslate"><span class="pre">WriteError</span></code>.</p>
<hr class="docutils" />
<p><a name="isOpen"></a></p>
</div>
<div class="section" id="db-isopen">
<h3>db.isOpen()<a class="headerlink" href="#db-isopen" title="Permalink to this headline">¶</a></h3>
<p>A LevelUP object can be in one of the following states:</p>
<ul class="simple">
<li><p><em>“new”</em>     - newly created, not opened or closed</p></li>
<li><p><em>“opening”</em> - waiting for the database to be opened</p></li>
<li><p><em>“open”</em>    - successfully opened the database, available for use</p></li>
<li><p><em>“closing”</em> - waiting for the database to be closed</p></li>
<li><p><em>“closed”</em>  - database has been successfully closed, should not be used</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">isOpen()</span></code> will return <code class="docutils literal notranslate"><span class="pre">true</span></code> only when the state is “open”.</p>
<hr class="docutils" />
<p><a name="isClosed"></a></p>
</div>
<div class="section" id="db-isclosed">
<h3>db.isClosed()<a class="headerlink" href="#db-isclosed" title="Permalink to this headline">¶</a></h3>
<p><em>See <a href="#put"><code>isOpen()</code></a></em></p>
<p><code class="docutils literal notranslate"><span class="pre">isClosed()</span></code> will return <code class="docutils literal notranslate"><span class="pre">true</span></code> only when the state is “closing” <em>or</em> “closed”, it can be useful for determining if read and write operations are permissible.</p>
<hr class="docutils" />
<p><a name="createReadStream"></a></p>
</div>
<div class="section" id="db-createreadstream-options">
<h3>db.createReadStream([options])<a class="headerlink" href="#db-createreadstream-options" title="Permalink to this headline">¶</a></h3>
<p>You can obtain a <strong>ReadStream</strong> of the full database by calling the <code class="docutils literal notranslate"><span class="pre">createReadStream()</span></code> method. The resulting stream is a complete Node.js-style <a class="reference external" href="http://nodejs.org/docs/latest/api/stream.html#stream_readable_stream">Readable Stream</a> where <code class="docutils literal notranslate"><span class="pre">'data'</span></code> events emit objects with <code class="docutils literal notranslate"><span class="pre">'key'</span></code> and <code class="docutils literal notranslate"><span class="pre">'value'</span></code> pairs. You can also use the <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code> and <code class="docutils literal notranslate"><span class="pre">limit</span></code> options to control the range of keys that are streamed.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Oh my!&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Stream closed&#39;</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Stream ended&#39;</span><span class="p">)</span>
  <span class="p">})</span>
</pre></div>
</div>
<p>The standard <code class="docutils literal notranslate"><span class="pre">pause()</span></code>, <code class="docutils literal notranslate"><span class="pre">resume()</span></code> and <code class="docutils literal notranslate"><span class="pre">destroy()</span></code> methods are implemented on the ReadStream, as is <code class="docutils literal notranslate"><span class="pre">pipe()</span></code> (see below). <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, ‘<code class="docutils literal notranslate"><span class="pre">error'</span></code>, <code class="docutils literal notranslate"><span class="pre">'end'</span></code> and <code class="docutils literal notranslate"><span class="pre">'close'</span></code> events are emitted.</p>
<p>Additionally, you can supply an options object as the first parameter to <code class="docutils literal notranslate"><span class="pre">createReadStream()</span></code> with the following options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'gt'</span></code> (greater than), <code class="docutils literal notranslate"><span class="pre">'gte'</span></code> (greater than or equal) define the lower bound of the range to be streamed. Only records where the key is greater than (or equal to) this option will be included in the range. When <code class="docutils literal notranslate"><span class="pre">reverse=true</span></code> the order will be reversed, but the records streamed will be the same.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lt'</span></code> (less than), <code class="docutils literal notranslate"><span class="pre">'lte'</span></code> (less than or equal) define the higher bound of the range to be streamed. Only key/value pairs where the key is less than (or equal to) this option will be included in the range. When <code class="docutils literal notranslate"><span class="pre">reverse=true</span></code> the order will be reversed, but the records streamed will be the same.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'start',</span> <span class="pre">'end'</span></code> legacy ranges - instead use <code class="docutils literal notranslate"><span class="pre">'gte',</span> <span class="pre">'lte'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'reverse'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</em>: a boolean, set true and the stream output will be reversed. Beware that due to the way LevelDB works, a reverse seek will be slower than a forward seek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'keys'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</em>: whether the <code class="docutils literal notranslate"><span class="pre">'data'</span></code> event should contain keys. If set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">'values'</span></code> set to <code class="docutils literal notranslate"><span class="pre">false</span></code> then <code class="docutils literal notranslate"><span class="pre">'data'</span></code> events will simply be keys, rather than objects with a <code class="docutils literal notranslate"><span class="pre">'key'</span></code> property. Used internally by the <code class="docutils literal notranslate"><span class="pre">createKeyStream()</span></code> method.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'values'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</em>: whether the <code class="docutils literal notranslate"><span class="pre">'data'</span></code> event should contain values. If set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">'keys'</span></code> set to <code class="docutils literal notranslate"><span class="pre">false</span></code> then <code class="docutils literal notranslate"><span class="pre">'data'</span></code> events will simply be values, rather than objects with a <code class="docutils literal notranslate"><span class="pre">'value'</span></code> property. Used internally by the <code class="docutils literal notranslate"><span class="pre">createValueStream()</span></code> method.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'limit'</span></code> <em>(number, default: <code class="docutils literal notranslate"><span class="pre">-1</span></code>)</em>: limit the number of results collected by this stream. This number represents a <em>maximum</em> number of results and may not be reached if you get to the end of the data first. A value of <code class="docutils literal notranslate"><span class="pre">-1</span></code> means there is no limit. When <code class="docutils literal notranslate"><span class="pre">reverse=true</span></code> the highest keys will be returned instead of the lowest keys.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'fillCache'</span></code> <em>(boolean, default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</em>: whether LevelDB’s LRU-cache should be filled with data read.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'keyEncoding'</span></code> / <code class="docutils literal notranslate"><span class="pre">'valueEncoding'</span></code> <em>(string)</em>: the encoding applied to each read piece of data.</p></li>
</ul>
<hr class="docutils" />
<p><a name="createKeyStream"></a></p>
</div>
<div class="section" id="db-createkeystream-options">
<h3>db.createKeyStream([options])<a class="headerlink" href="#db-createkeystream-options" title="Permalink to this headline">¶</a></h3>
<p>A <strong>KeyStream</strong> is a <strong>ReadStream</strong> where the <code class="docutils literal notranslate"><span class="pre">'data'</span></code> events are simply the keys from the database so it can be used like a traditional stream rather than an object stream.</p>
<p>You can obtain a KeyStream either by calling the <code class="docutils literal notranslate"><span class="pre">createKeyStream()</span></code> method on a LevelUP object or by passing an options object to <code class="docutils literal notranslate"><span class="pre">createReadStream()</span></code> with <code class="docutils literal notranslate"><span class="pre">keys</span></code> set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">values</span></code> set to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">createKeyStream</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;key=&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">})</span>

<span class="c1">// same as:</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">({</span> <span class="nx">keys</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">values</span><span class="o">:</span> <span class="kc">false</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;key=&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">})</span>
</pre></div>
</div>
<hr class="docutils" />
<p><a name="createValueStream"></a></p>
</div>
<div class="section" id="db-createvaluestream-options">
<h3>db.createValueStream([options])<a class="headerlink" href="#db-createvaluestream-options" title="Permalink to this headline">¶</a></h3>
<p>A <strong>ValueStream</strong> is a <strong>ReadStream</strong> where the <code class="docutils literal notranslate"><span class="pre">'data'</span></code> events are simply the values from the database so it can be used like a traditional stream rather than an object stream.</p>
<p>You can obtain a ValueStream either by calling the <code class="docutils literal notranslate"><span class="pre">createValueStream()</span></code> method on a LevelUP object or by passing an options object to <code class="docutils literal notranslate"><span class="pre">createReadStream()</span></code> with <code class="docutils literal notranslate"><span class="pre">values</span></code> set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">keys</span></code> set to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">db</span><span class="p">.</span><span class="nx">createValueStream</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;value=&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">})</span>

<span class="c1">// same as:</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">({</span> <span class="nx">keys</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">values</span><span class="o">:</span> <span class="kc">true</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;value=&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">})</span>
</pre></div>
</div>
<hr class="docutils" />
<p><a name="writeStreams"></a></p>
<div class="section" id="what-happened-to-db-createwritestream">
<h4>What happened to <code class="docutils literal notranslate"><span class="pre">db.createWriteStream</span></code>?<a class="headerlink" href="#what-happened-to-db-createwritestream" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">db.createWriteStream()</span></code> has been removed in order to provide a smaller and more maintainable core. It primarily existed to create symmetry with <code class="docutils literal notranslate"><span class="pre">db.createReadStream()</span></code> but through much <a class="reference external" href="https://github.com/level/levelup/issues/199">discussion</a>, removing it was the best course of action.</p>
<p>The main driver for this was performance. While <code class="docutils literal notranslate"><span class="pre">db.createReadStream()</span></code> performs well under most use cases, <code class="docutils literal notranslate"><span class="pre">db.createWriteStream()</span></code> was highly dependent on the application keys and values. Thus we can’t provide a standard implementation and encourage more <code class="docutils literal notranslate"><span class="pre">write-stream</span></code> implementations to be created to solve the broad spectrum of use cases.</p>
<p>Check out the implementations that the community has already produced <a class="reference external" href="https://github.com/level/levelup/wiki/Modules#write-streams">here</a>.</p>
<hr class="docutils" />
<p><a name='approximateSize'></a></p>
</div>
</div>
<div class="section" id="db-db-approximatesize-start-end-callback">
<h3>db.db.approximateSize(start, end, callback)<a class="headerlink" href="#db-db-approximatesize-start-end-callback" title="Permalink to this headline">¶</a></h3>
<p><code>approximateSize()</code> can used to get the approximate number of bytes of file system space used by the range <code class="docutils literal notranslate"><span class="pre">[start..end)</span></code>. The result may not include recently written data.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">)(</span><span class="s1">&#39;./huge.db&#39;</span><span class="p">)</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">db</span><span class="p">.</span><span class="nx">approximateSize</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">size</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Ooops!&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Approximate size of range is %d&#39;</span><span class="p">,</span> <span class="nx">size</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p><strong>Note:</strong> <code class="docutils literal notranslate"><span class="pre">approximateSize()</span></code> is available via <a class="reference external" href="https://github.com/level/leveldown/">LevelDOWN</a>, which by default is accessible as the <code class="docutils literal notranslate"><span class="pre">db</span></code> property of your LevelUP instance. This is a specific LevelDB operation and is not likely to be available where you replace LevelDOWN with an alternative back-end via the <code class="docutils literal notranslate"><span class="pre">'db'</span></code> option.</p>
<hr class="docutils" />
<p><a name='getProperty'></a></p>
</div>
<div class="section" id="db-db-getproperty-property">
<h3>db.db.getProperty(property)<a class="headerlink" href="#db-db-getproperty-property" title="Permalink to this headline">¶</a></h3>
<p><code>getProperty</code> can be used to get internal details from LevelDB. When issued with a valid property string, a readable string will be returned (this method is synchronous).</p>
<p>Currently, the only valid properties are:</p>
<ul class="simple">
<li><p><b><code>’leveldb.num-files-at-levelN’</code></b>: returns the number of files at level <em>N</em>, where N is an integer representing a valid level (e.g. “0”).</p></li>
<li><p><b><code>’leveldb.stats’</code></b>: returns a multi-line string describing statistics about LevelDB’s internal operation.</p></li>
<li><p><b><code>’leveldb.sstables’</code></b>: returns a multi-line string describing all of the <em>sstables</em> that make up contents of the current database.</p></li>
</ul>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">)(</span><span class="s1">&#39;./huge.db&#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">db</span><span class="p">.</span><span class="nx">db</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s1">&#39;leveldb.num-files-at-level3&#39;</span><span class="p">))</span>
<span class="c1">// → &#39;243&#39;</span>
</pre></div>
</div>
<p><strong>Note:</strong> <code class="docutils literal notranslate"><span class="pre">getProperty()</span></code> is available via <a class="reference external" href="https://github.com/level/leveldown/">LevelDOWN</a>, which by default is accessible as the <code class="docutils literal notranslate"><span class="pre">db</span></code> property of your LevelUP instance. This is a specific LevelDB operation and is not likely to be available where you replace LevelDOWN with an alternative back-end via the <code class="docutils literal notranslate"><span class="pre">'db'</span></code> option.</p>
<hr class="docutils" />
<p><a name="destroy"></a></p>
</div>
<div class="section" id="leveldown-destroy-location-callback">
<h3>leveldown.destroy(location, callback)<a class="headerlink" href="#leveldown-destroy-location-callback" title="Permalink to this headline">¶</a></h3>
<p><code>destroy()</code> is used to completely remove an existing LevelDB database directory. You can use this function in place of a full directory <em>rm</em> if you want to be sure to only remove LevelDB-related files. If the directory only contains LevelDB files, the directory itself will be removed as well. If there are additional, non-LevelDB files in the directory, those files, and the directory, will be left alone.</p>
<p>The callback will be called when the destroy operation is complete, with a possible <code class="docutils literal notranslate"><span class="pre">error</span></code> argument.</p>
<p><strong>Note:</strong> <code class="docutils literal notranslate"><span class="pre">destroy()</span></code> is available via <a class="reference external" href="https://github.com/level/leveldown/">LevelDOWN</a> which you will have to install seperately, e.g.:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;leveldown&#39;</span><span class="p">).</span><span class="nx">destroy</span><span class="p">(</span><span class="s1">&#39;./huge.db&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;done!&#39;</span><span class="p">)</span> <span class="p">})</span>
</pre></div>
</div>
<hr class="docutils" />
<p><a name="repair"></a></p>
</div>
<div class="section" id="leveldown-repair-location-callback">
<h3>leveldown.repair(location, callback)<a class="headerlink" href="#leveldown-repair-location-callback" title="Permalink to this headline">¶</a></h3>
<p><code>repair()</code> can be used to attempt a restoration of a damaged LevelDB store. From the LevelDB documentation:</p>
<blockquote>
<div><p>If a DB cannot be opened, you may attempt to call this method to resurrect as much of the contents of the database as possible. Some data may be lost, so be careful when calling this function on a database that contains important information.</p>
</div></blockquote>
<p>You will find information on the <em>repair</em> operation in the <em>LOG</em> file inside the store directory.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">repair()</span></code> can also be used to perform a compaction of the LevelDB log into table files.</p>
<p>The callback will be called when the repair operation is complete, with a possible <code class="docutils literal notranslate"><span class="pre">error</span></code> argument.</p>
<p><strong>Note:</strong> <code class="docutils literal notranslate"><span class="pre">repair()</span></code> is available via <a class="reference external" href="https://github.com/level/leveldown/">LevelDOWN</a> which you will have to install seperately, e.g.:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;leveldown&#39;</span><span class="p">).</span><span class="nx">repair</span><span class="p">(</span><span class="s1">&#39;./huge.db&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;done!&#39;</span><span class="p">)</span> <span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="a-name-events-a-events">
<h2><a name="events"></a>
Events<a class="headerlink" href="#a-name-events-a-events" title="Permalink to this headline">¶</a></h2>
<p>LevelUP emits events when the callbacks to the corresponding methods are called.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('put',</span> <span class="pre">key,</span> <span class="pre">value)</span></code> emitted when a new value is <code class="docutils literal notranslate"><span class="pre">'put'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('del',</span> <span class="pre">key)</span></code> emitted when a value is deleted</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('batch',</span> <span class="pre">ary)</span></code> emitted when a batch operation has executed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('ready')</span></code> emitted when the database has opened (<code class="docutils literal notranslate"><span class="pre">'open'</span></code> is synonym)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('closed')</span></code> emitted when the database has closed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('opening')</span></code> emitted when the database is opening</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db.emit('closing')</span></code> emitted when the database is closing</p></li>
</ul>
<p>If you do not pass a callback to an async function, and there is an error, LevelUP will <code class="docutils literal notranslate"><span class="pre">emit('error',</span> <span class="pre">err)</span></code> instead.</p>
</div>
<div class="section" id="a-name-json-a-json-data">
<h2><a name="json"></a>
JSON data<a class="headerlink" href="#a-name-json-a-json-data" title="Permalink to this headline">¶</a></h2>
<p>You specify <code class="docutils literal notranslate"><span class="pre">'json'</span></code> encoding for both keys and/or values, you can then supply JavaScript objects to LevelUP and receive them from all fetch operations, including ReadStreams. LevelUP will automatically <em>stringify</em> your objects and store them as <em>utf8</em> and parse the strings back into objects before passing them back to you.</p>
</div>
<div class="section" id="a-name-custom-encodings-a-custom-encodings">
<h2><a name="custom_encodings"></a>
Custom encodings<a class="headerlink" href="#a-name-custom-encodings-a-custom-encodings" title="Permalink to this headline">¶</a></h2>
<p>A custom encoding may be provided by passing in an object as a value for <code class="docutils literal notranslate"><span class="pre">keyEncoding</span></code> or <code class="docutils literal notranslate"><span class="pre">valueEncoding</span></code> (wherever accepted), it must have the following properties:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">encode</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
  <span class="nx">decode</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
  <span class="nx">buffer</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">,</span> <span class="c1">// encode returns a buffer and decode accepts a buffer</span>
  <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span>  <span class="c1">// name of this encoding type.</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="a-name-extending-a-extending-levelup">
<h2><a name="extending"></a>
Extending LevelUP<a class="headerlink" href="#a-name-extending-a-extending-levelup" title="Permalink to this headline">¶</a></h2>
<p>A list of <a href="https://github.com/level/levelup/wiki/Modules"><b>Node.js LevelDB modules and projects</b></a> can be found in the wiki.</p>
<p>When attempting to extend the functionality of LevelUP, it is recommended that you consider using <a class="reference external" href="https://github.com/dominictarr/level-hooks">level-hooks</a> and/or <a class="reference external" href="https://github.com/dominictarr/level-sublevel">level-sublevel</a>. <strong>level-sublevel</strong> is particularly helpful for keeping additional, extension-specific, data in a LevelDB store. It allows you to partition a LevelUP instance into multiple sub-instances that each correspond to discrete namespaced key ranges.</p>
</div>
<div class="section" id="a-name-multiproc-a-multi-process-access">
<h2><a name="multiproc"></a>
Multi-process access<a class="headerlink" href="#a-name-multiproc-a-multi-process-access" title="Permalink to this headline">¶</a></h2>
<p>LevelDB is thread-safe but is <strong>not</strong> suitable for accessing with multiple processes. You should only ever have a LevelDB database open from a single Node.js process. Node.js clusters are made up of multiple processes so a LevelUP instance cannot be shared between them either.</p>
<p>See the <a href="https://github.com/level/levelup/wiki/Modules"><b>wiki</b></a> for some LevelUP extensions, including <a class="reference external" href="https://github.com/juliangruber/multilevel">multilevel</a>, that may help if you require a single data store to be shared across processes.</p>
</div>
<div class="section" id="a-name-support-a-getting-support">
<h2><a name="support"></a>
Getting support<a class="headerlink" href="#a-name-support-a-getting-support" title="Permalink to this headline">¶</a></h2>
<p>There are multiple ways you can find help in using LevelDB in Node.js:</p>
<ul class="simple">
<li><p><strong>IRC:</strong> you’ll find an active group of LevelUP users in the <strong>##leveldb</strong> channel on Freenode, including most of the contributors to this project.</p></li>
<li><p><strong>Mailing list:</strong> there is an active <a class="reference external" href="https://groups.google.com/forum/#%21forum/node-levelup">Node.js LevelDB</a> Google Group.</p></li>
<li><p><strong>GitHub:</strong> you’re welcome to open an issue here on this GitHub repository if you have a question.</p></li>
</ul>
</div>
<div class="section" id="a-name-contributing-a-contributing">
<h2><a name="contributing"></a>
Contributing<a class="headerlink" href="#a-name-contributing-a-contributing" title="Permalink to this headline">¶</a></h2>
<p>LevelUP is an <strong>OPEN Open Source Project</strong>. This means that:</p>
<blockquote>
<div><p>Individuals making significant and valuable contributions are given commit-access to the project to contribute as they see fit. This project is more like an open wiki than a standard guarded open source project.</p>
</div></blockquote>
<p>See the <a class="reference external" href="https://github.com/Level/community/blob/master/CONTRIBUTING.md">contribution guide</a> for more details.</p>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>A large portion of the Windows support comes from code by <a class="reference external" href="http://blog.kowalczyk.info/">Krzysztof Kowalczyk</a> <a class="reference external" href="https://twitter.com/kjk">&#64;kjk</a>, see his Windows LevelDB port <a class="reference external" href="http://code.google.com/r/kkowalczyk-leveldb/">here</a>. If you’re using LevelUP on Windows, you should give him your thanks!</p>
</div>
</div>
<div class="section" id="a-name-license-a-license-copyright">
<h2><a name="license"></a>
License &amp; copyright<a class="headerlink" href="#a-name-license-a-license-copyright" title="Permalink to this headline">¶</a></h2>
<p>Copyright © 2012-2016 <strong>LevelUP</strong> <a class="reference external" href="https://github.com/level/community#contributors">contributors</a>.</p>
<p><strong>LevelUP</strong> is licensed under the MIT license. All rights not explicitly granted in the MIT license are reserved. See the included <code class="docutils literal notranslate"><span class="pre">LICENSE.md</span></code> file for more details.</p>
<p><em>LevelUP builds on the excellent work of the LevelDB and Snappy teams from Google and additional contributors. LevelDB and Snappy are both issued under the <a class="reference external" href="http://opensource.org/licenses/BSD-3-Clause">New BSD Licence</a>.</em></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./nbs/z-repo_Solidity/Faucet/node_modules/levelup"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Dave Friedman<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>