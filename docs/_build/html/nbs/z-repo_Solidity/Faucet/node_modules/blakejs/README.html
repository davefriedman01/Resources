
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>blakejs &#8212; Mathematics</title>
    
  <link href="../../../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../index.html">
      
      <img src="../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Mathematics</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../README.html">
   Mathematics
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Sets.html">
   Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../NumberTheory.html">
   Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../AlgorithmicNumberTheory.html">
   Algorithmic Number Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../ModularArithmetic.html">
   Modular Arithmetic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Polynomials.html">
   Polynomials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Structures.html">
   Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Groups.html">
   Groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../Fields.html">
   Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../mathematical_foundations.html">
   Imports
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modeling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../RandomWalks.html">
   Random Walks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DigitalSignalProcessing.html">
   Digital Signal Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../DifferentialEquations.html">
   Differential Equations
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Blockchain
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../PythonBlockchain.html">
   Python Blockchain
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../_sources/nbs/z-repo_Solidity/Faucet/node_modules/blakejs/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/davefriedman01/Resources"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/davefriedman01/Resources/issues/new?title=Issue%20on%20page%20%2Fnbs/z-repo_Solidity/Faucet/node_modules/blakejs/README.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quick-start">
   Quick Start
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#use-blake2b-to-compute-a-blake2b-hash">
     1. Use
     <code class="docutils literal notranslate">
      <span class="pre">
       blake2b
      </span>
     </code>
     to compute a BLAKE2b hash
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#use-blake2b-init-update-final-to-compute-a-streaming-hash">
     2. Use
     <code class="docutils literal notranslate">
      <span class="pre">
       blake2b[Init,Update,Final]
      </span>
     </code>
     to compute a streaming hash
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#all-blake2b-functions-have-blake2s-equivalents">
     3. All
     <code class="docutils literal notranslate">
      <span class="pre">
       blake2b*
      </span>
     </code>
     functions have
     <code class="docutils literal notranslate">
      <span class="pre">
       blake2s*
      </span>
     </code>
     equivalents
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#limitations">
   Limitations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#testing">
   Testing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#performance">
   Performance
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="blakejs">
<h1>blakejs<a class="headerlink" href="#blakejs" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://travis-ci.org/dcposch/blakejs"><img alt="travis ci" src="https://travis-ci.org/dcposch/blakejs.svg?branch=master" /></a>
<a class="reference external" href="https://badge.fury.io/js/blakejs"><img alt="npm version" src="https://badge.fury.io/js/blakejs.svg" /></a></p>
<p><strong>blakejs is a pure Javascript implementation of the BLAKE2b and BLAKE2s hash functions.</strong></p>
<p><img alt="blake1" src="https://cloud.githubusercontent.com/assets/169280/25921238/9bf1877a-3589-11e7-8a93-74b69c3874bb.jpg" /></p>
<hr class="docutils" />
<p><a class="reference external" href="https://tools.ietf.org/html/rfc7693">RFC 7693: The BLAKE Cryptographic Hash and MAC</a></p>
<p>BLAKE is the default family of hash functions in the venerable NaCl crypto library. Like SHA2 and SHA3 but unlike MD5 and SHA1, BLAKE offers solid security. With an optimized assembly implementation, BLAKE can be faster than all of those other hash functions.</p>
<p>Of course, this implementation is in Javascript, so it won’t be winning any speed records. More under Performance below. It’s short and sweet, less than 500 LOC.</p>
<p><strong>As far as I know, this package is the easiest way to compute Blake2 in the browser.</strong></p>
<p>Other options to consider:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/nazar-pc">&#64;nazar-pc</a> has WebAssembly implementation for higher performance where supported: <a class="reference external" href="https://github.com/nazar-pc/blake2.wasm">blake2.wasm</a></p></li>
<li><p><a class="reference external" href="https://github.com/emilbayes">&#64;emilbayes</a> has a Blake2b-only implementation with salt support; WASM with automatic JS fallback: <a class="reference external" href="https://github.com/emilbayes/blake2b">blake2b</a></p></li>
<li><p>On node, you probably want the native wrapper <a class="reference external" href="https://github.com/ludios/node-blake2">node-blake2</a></p></li>
</ul>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ npm install --save blakejs
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">blake</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;blakejs&#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blake</span><span class="p">.</span><span class="nx">blake2bHex</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span>
<span class="c1">// prints ba80a53f981c4d0d6a2797b69f12f6e94c212f14685ac4b74b12bb6fdbffa2d17d87c5392aab792dc252d5de4533cc9518d38aa8dbf1925ab92386edd4009923</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blake</span><span class="p">.</span><span class="nx">blake2sHex</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span>
<span class="c1">// prints 508c5e8c327c14e2e1a72ba34eeb452f37458b209ed63a294d999b4c86675982</span>
</pre></div>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="use-blake2b-to-compute-a-blake2b-hash">
<h3>1. Use <code class="docutils literal notranslate"><span class="pre">blake2b</span></code> to compute a BLAKE2b hash<a class="headerlink" href="#use-blake2b-to-compute-a-blake2b-hash" title="Permalink to this headline">¶</a></h3>
<p>Pass it a string, <code class="docutils literal notranslate"><span class="pre">Buffer</span></code>, or <code class="docutils literal notranslate"><span class="pre">Uint8Array</span></code> containing bytes to hash, and it will return a <code class="docutils literal notranslate"><span class="pre">Uint8Array</span></code> containing the hash.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// Computes the BLAKE2B hash of a string or byte array, and returns a Uint8Array</span>
<span class="c1">//</span>
<span class="c1">// Returns a n-byte Uint8Array</span>
<span class="c1">//</span>
<span class="c1">// Parameters:</span>
<span class="c1">// - input - the input bytes, as a string, Buffer, or Uint8Array</span>
<span class="c1">//           Strings are converted to UTF8 bytes</span>
<span class="c1">// - key - optional key Uint8Array, up to 64 bytes</span>
<span class="c1">// - outlen - optional output length in bytes, default 64</span>
<span class="kd">function</span> <span class="nx">blake2b</span><span class="p">(</span><span class="nx">input</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">outlen</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For convenience, <code class="docutils literal notranslate"><span class="pre">blake2bHex</span></code> takes the same arguments and works the same way, but returns a hex string.</p>
</div>
<div class="section" id="use-blake2b-init-update-final-to-compute-a-streaming-hash">
<h3>2. Use <code class="docutils literal notranslate"><span class="pre">blake2b[Init,Update,Final]</span></code> to compute a streaming hash<a class="headerlink" href="#use-blake2b-init-update-final-to-compute-a-streaming-hash" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">KEY</span> <span class="o">=</span> <span class="kc">null</span> <span class="c1">// optional key</span>
<span class="kd">var</span> <span class="nx">OUTPUT_LENGTH</span> <span class="o">=</span> <span class="mf">64</span> <span class="c1">// bytes</span>
<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">blake2bInit</span><span class="p">(</span><span class="nx">OUTPUT_LENGTH</span><span class="p">,</span> <span class="nx">KEY</span><span class="p">)</span>
<span class="p">...</span>
<span class="c1">// each time you get a byte array from the stream:</span>
<span class="nx">blake2bUpdate</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">bytes</span><span class="p">)</span>
<span class="p">...</span>
<span class="c1">// finally, once the stream has been exhausted</span>
<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">blake2bFinal</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span>
<span class="c1">// returns a 64-byte hash, as a Uint8Array</span>
</pre></div>
</div>
</div>
<div class="section" id="all-blake2b-functions-have-blake2s-equivalents">
<h3>3. All <code class="docutils literal notranslate"><span class="pre">blake2b*</span></code> functions have <code class="docutils literal notranslate"><span class="pre">blake2s*</span></code> equivalents<a class="headerlink" href="#all-blake2b-functions-have-blake2s-equivalents" title="Permalink to this headline">¶</a></h3>
<p>BLAKE2b: <code class="docutils literal notranslate"><span class="pre">blake2b</span></code>, <code class="docutils literal notranslate"><span class="pre">blake2bHex</span></code>, <code class="docutils literal notranslate"><span class="pre">blake2bInit</span></code>, <code class="docutils literal notranslate"><span class="pre">blake2bUpdate</span></code>, and <code class="docutils literal notranslate"><span class="pre">blake2bFinal</span></code></p>
<p>BLAKE2s: <code class="docutils literal notranslate"><span class="pre">blake2s</span></code>, <code class="docutils literal notranslate"><span class="pre">blake2sHex</span></code>, <code class="docutils literal notranslate"><span class="pre">blake2sInit</span></code>, <code class="docutils literal notranslate"><span class="pre">blake2sUpdate</span></code>, and <code class="docutils literal notranslate"><span class="pre">blake2sFinal</span></code></p>
<p>The inputs are identical except that maximum key size and maximum output size are 32 bytes instead of 64.</p>
</div>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Can only handle up to 2**53 bytes of input</p>
<p>If your webapp is hashing more than 8 petabytes, you may have other problems :)</p>
</li>
</ul>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Examples from the RFC</p></li>
<li><p>BLAKE2s self-test from the RFC</p></li>
<li><p>Examples from <a class="reference external" href="http://pythonhosted.org/pyblake2/examples.html">http://pythonhosted.org/pyblake2/examples.html</a></p></li>
<li><p>A longer set of test vectors generated by <a class="reference external" href="https://github.com/jedisct1/crypto-test-vectors/tree/master/crypto/hash/blake2/blake2b/nosalt-nopersonalization/generators/libsodium">https://github.com/jedisct1/crypto-test-vectors/tree/master/crypto/hash/blake2/blake2b/nosalt-nopersonalization/generators/libsodium</a></p></li>
</ul>
</div>
<div class="section" id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BLAKE2b: 15.2 MB / second on a 2.2GHz i7-4770HQ
BLAKE2s: 20.4 MB / second

¯\_(ツ)_/¯
</pre></div>
</div>
<p>If you’re using BLAKE2b in server side node.js code, you probably want the <a class="reference external" href="https://www.npmjs.com/package/blake2">native wrapper</a> which should be able to do several hundred MB / second on the same processor.</p>
<p>If you’re using BLAKE2b in a web app, 15 MB/sec might be fine.</p>
<p>Javascript doesn’t have 64-bit integers, and BLAKE2b is a 64-bit integer algorithm. Writing it with<code class="docutils literal notranslate"><span class="pre">Uint32Array</span></code> is not that fast. BLAKE2s is a 32-bit algorithm, so it’s a bit faster.</p>
<p>If we want better machine code at the expense of gross-looking Javascript, we could use asm.js</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Creative Commons CC0. Ported from the reference C implementation in
<a class="reference external" href="https://tools.ietf.org/html/rfc7693">RFC 7693</a>.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./nbs/z-repo_Solidity/Faucet/node_modules/blakejs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Dave Friedman<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>